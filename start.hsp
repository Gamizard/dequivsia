#uselib "dsoundex.hpi"
#func ds_init "_ds_init@16" bmscr, int, int, /*•s–¾‚ÈŒ^ FFEE*/
#func ds_load "_ds_load@16" bmscr, str, int, int
#func ds_play "_ds_play@16" int, int, int, int
#func ds_loop "_ds_loop@16" int, int, int, int
#func ds_stop "_ds_stop@16" int, int, int, int
#func ds_vol "_ds_vol@16" int, int, int, int
#func ds_dup "_ds_dup@16" int, int, int, int

#uselib "winmm.dll"
#cfunc timeGetTime "timeGetTime"

	gameWindowSize = 1
	title "Dequivsia"
	goto *gameInit
*gameInit
	dim var_88, 32
	var_91 = 20, 1, 100
	gosub *gameWindowCreate
	randomize
	repeat 14
		buffer 2 + cnt, 320, 240, 0
		picload "DPM:data\\data.dpm:chip_" + str(cnt + 2) + ".bmp"
	loop
	gsel 0
	color 0, 0, 0
	boxf
	pos 144, 128
	gcopy 5, 0, 168, 112, 16
	var_92 = rnd(4)
	pos 144, 96
	gcopy 5, 40 * var_92, 184, 40, 32
	pos 0, 0
	gzoom 256 * (1 + gameWindowSize), 144 * (1 + gameWindowSize), 0, 0, 0, 256, 144
	gameSeCount = 75
	var_94 = 3
	ds_init 22050, 2
	dim var_95, gameSeCount
	dim var_96, gameSeCount
	color 10, 10, 10
	repeat gameSeCount
		pos cnt / 14 * 60
		if ( cnt \ 14 == 0 ) {
			pos , 0
		}
		ds_load "data\\se\\se_" + cnt + ".wav", cnt
		mes stat
		await 0
	loop
	roomCoordY3 = 0
*label_018
	exgoto roomCoordY3, 1, gameSeCount, *label_021
	roomCoordX3 = 0
*label_019
	exgoto roomCoordX3, 1, var_94 - 1, *label_020
	ds_dup gameSeCount + roomCoordY3 + gameSeCount * roomCoordX3, roomCoordY3
	roomCoordX3 += 1
	goto *label_019
*label_020
	roomCoordY3 += 1
	goto *label_018
*label_021
	pos 360, 0
	gameMuBufferStartId = gameSeCount * var_94 + 1
	exist "data\\savedata\\100"
	if ( strsize == (-1) ) {
		repeat 50
			ds_load "data\\mu\\" + cnt + ".wav", cnt + gameMuBufferStartId
			mes stat
			await 0
		loop
	}
	var_100 = 50
	var_101 = 50
	gosub *label_194
	var_102 = 1
	dim var_103, 10, 4
	dim var_104, 14
	exist "data\\savedata\\0"
	notesel var_105
	if ( strsize != (-1) ) {
		noteload "data\\savedata\\0"
		var_102 = int(var_105)
	}
	var_106 = 0
*label_022
	exgoto var_106, 1, 4, *label_023
	exist "data\\savedata\\" + str(var_106 + 1)
	if ( strsize != (-1) ) {
		noteload "data\\savedata\\" + str(var_106 + 1)
		repeat 10
			noteget var_107, cnt
			var_103(cnt, var_106) = int(var_107)
		loop
	}
	var_106 += 1
	goto *label_022
*label_023
	exist "data\\savedata\\5"
	notesel var_105
	if ( strsize != (-1) ) {
		noteload "data\\savedata\\5"
	}
	repeat 14
		noteget var_107, cnt
		var_104(cnt) = int(var_107)
	loop
	onexit goto *label_199
	dim var_108, 4
*label_024
	color 0, 0, 0
	boxf
	gosub *gameVarsInit
	var_109 = 5
	var_110 = 1
	menuItemSelected = 0
	var_112 = 0
	var_113 = rnd(3)
	var_95(33) = 1
	var_114 = 0
	repeat 4
		if ( var_103(0, cnt) >= 1 ) {
			if ( var_104(cnt * 2 + 1) == 0 ) {
				var_104(cnt * 2 + 1) = 1
			}
		}
	loop
	var_92 = 0
	repeat 4
		if ( var_104(cnt + 8) >= 1 ) {
			var_92 += 1
		}
	loop
	if ( var_92 == 4 & var_104(12) == 0 ) {
		var_104(12) = 1
	}
	if ( var_104(5) >= 1 & var_104(12) >= 1 & var_104(13) == 0 ) {
		var_104(13) = 1
	}
	repeat 14
		if ( var_104(cnt) >= 1 ) {
			var_114 += 1
		}
	loop
	var_115 = -1
*label_025
	gosub *label_190
	if ( var_112 == 0 & var_116(1) * var_116(3) == 0 ) {
		if ( var_116(1) == 1 | var_116(1) >= 8 ) {
			menuItemSelected = (menuItemSelected + 4) \ 5
			var_95(34) = 1
		}
		if ( var_116(3) == 1 | var_116(3) >= 8 ) {
			menuItemSelected = (menuItemSelected + 1) \ 5
			var_95(34) = 1
		}
		if ( var_114 == 0 ) {
			if ( var_116(1) == 1 | var_116(1) >= 8 ) {
				if ( menuItemSelected == 1 ) {
					menuItemSelected -= 1
				}
			}
			if ( var_116(3) == 1 | var_116(3) >= 8 ) {
				if ( menuItemSelected == 1 ) {
					menuItemSelected += 1
				}
			}
		}
		if ( menuItemSelected == 0 & var_116(4) == 1 ) {
			var_112 = 1
			var_95(35) = 1
		}
		if ( menuItemSelected == 1 & var_116(4) == 1 ) {
			var_112 = 2
			menuItemSelected = 0
			var_95(35) = 1
		}
		if ( menuItemSelected == 2 & var_116(0) * var_116(2) == 0 ) {
			if ( var_116(0) == 1 | var_116(0) >= 8 ) {
				if ( var_100 >= 5 ) {
					var_100 -= 5
					gosub *label_194
					var_95(34) = 1
				}
			}
			if ( var_116(2) == 1 | var_116(2) >= 8 ) {
				if ( var_100 <= 95 ) {
					var_100 += 5
					gosub *label_194
					var_95(34) = 1
				}
			}
		}
		if ( menuItemSelected == 3 & var_116(0) * var_116(2) == 0 ) {
			if ( var_116(0) == 1 | var_116(0) >= 8 ) {
				if ( var_101 >= 5 ) {
					var_101 -= 5
					gosub *label_194
					var_95(34) = 1
				}
			}
			if ( var_116(2) == 1 | var_116(2) >= 8 ) {
				if ( var_101 <= 95 ) {
					var_101 += 5
					gosub *label_194
					var_95(34) = 1
				}
			}
		}
		if ( menuItemSelected == 4 & var_116(4) == 1 ) {
			var_95(35) = 1
			gameWindowSize = (gameWindowSize + 1) \ 3
			gosub *gameWindowCreate
		}
		var_117 = 0
	}
	else {
		if ( var_112 == 1 ) {
			if ( var_116(5) == 1 ) {
				menuItemSelected = 0
				var_112 = 0
				var_95(35) = 1
			}
			if ( var_116(1) == 1 ) {
				menuItemSelected = (menuItemSelected + var_102 - 1) \ var_102
				var_95(34) = 1
				var_117 = 0
			}
			if ( var_116(3) == 1 ) {
				menuItemSelected = (menuItemSelected + 1) \ var_102
				var_95(34) = 1
				var_117 = 0
			}
			var_117 += 1
			if ( var_116(4) == 1 ) {
				var_95(35) = 1
				levelType = menuItemSelected
				if ( levelType == 0 ) {
					levelSizeX = 13
					levelSizeY = 13
					levelKeysNeeded = 1
					var_122 = 10
				}
				if ( levelType == 1 ) {
					levelSizeX = 21
					levelSizeY = 21
					levelKeysNeeded = 2
					var_122 = 4
				}
				if ( levelType == 2 ) {
					levelSizeX = 31
					levelSizeY = 31
					levelKeysNeeded = 3
					var_122 = 8
				}
				if ( levelType == 3 ) {
					levelSizeX = 51
					levelSizeY = 51
					levelKeysNeeded = 6
					var_122 = 5
				}
				if ( var_104(levelType * 2) == 0 ) {
					var_104(levelType * 2) = 1
				}
				gosub *label_193
				var_109 = 0
				var_110 = 1
				gosub *label_195
				goto *label_032
			}
			if ( var_116(8) == 1 ) {
				if ( var_103(0, menuItemSelected) >= 1 ) {
					var_123 = menuItemSelected
					var_109 = 0
					var_110 = 1
					gosub *label_195
					goto *label_187
				}
			}
		}
		else {
			if ( var_112 == 2 ) {
				if ( var_116(0) == 1 | var_116(0) >= 8 ) {
					menuItemSelected = (menuItemSelected + 13) \ 14
					var_124 = 12
					var_115 = -1
					var_95(34) = 1
				}
				if ( var_116(2) == 1 | var_116(2) >= 8 ) {
					menuItemSelected = (menuItemSelected + 1) \ 14
					var_124 = 12
					var_115 = -1
					var_95(34) = 1
				}
				if ( var_116(4) == 1 ) {
					if ( var_104(menuItemSelected) == 0 ) {
						var_95(51) = 1
					}
					else {
						var_115 = 16
						var_104(menuItemSelected) = 2
						var_95(11) = 1
					}
				}
				if ( var_116(5) == 1 ) {
					menuItemSelected = 1
					var_112 = 0
					var_95(35) = 1
				}
				if ( var_124 >= 1 ) {
					var_124 -= 1
				}
				if ( var_115 >= 1 ) {
					var_115 -= 1
				}
			}
		}
	}
	var_125 += 1
	gosub *label_193
	gosub *label_195
	redraw 0
	color 0, 0, 0
	boxf
	gmode 4, , , 256
	if ( var_112 <= 1 ) {
		roomCoordX3 = 0
*label_026
		exgoto roomCoordX3, 1, 6, *label_029
		roomCoordY3 = 0
*label_027
		exgoto roomCoordY3, 1, 7, *label_028
		var_92 = 1
		if ( roomCoordX3 == 0 ) {
			var_92 = 0
		}
		if ( roomCoordX3 == 5 ) {
			var_92 = 2
		}
		pos roomCoordX3 * 24 + 10, roomCoordY3 * 24 - var_112 * 8
		gcopy 5, 24 * var_92, 12 * 8, 24, 24
		roomCoordY3 += 1
		goto *label_027
*label_028
		roomCoordX3 += 1
		goto *label_026
	}
*label_029
	gmode 4, , , 256
	if ( var_112 == 0 ) {
		roomCoordX = 0
		roomCoordY = 0
		var_92 = 1
		if ( var_114 >= 1 ) {
			var_92 = 2
		}
		repeat var_92
			pos roomCoordX + 6 * 8, roomCoordY + 3 * 8 + cnt * 24
			gcopy 5, 0, 120, 8 * 8, 32
		loop
		if ( menuItemSelected == 0 ) {
			var_92 = 0
		}
		else {
			var_92 = 1
		}
		pos roomCoordX + 7 * 8, roomCoordY + 4 * 8
		gcopy 5, 0, 8 * 8 + var_92 * 16, 6 * 8, 16
		if ( var_114 >= 1 ) {
			if ( menuItemSelected == 1 ) {
				var_92 = 0
			}
			else {
				var_92 = 1
			}
			pos roomCoordX + 7 * 8, roomCoordY + 7 * 8
			gcopy 5, 48, 8 * 8 + var_92 * 16, 6 * 8, 16
		}
		pos roomCoordX + 5 * 8 + 4, roomCoordY + 10 * 8
		gcopy 5, 0, 32, 10 * 8, 8
		pos roomCoordX + 5 * 8 + 4, roomCoordY + 11 * 8 + 4
		gcopy 5, 0, 32, 10 * 8, 8
		pos roomCoordX + 5 * 8 + 5, roomCoordY + 10 * 8
		gcopy 5, 80 - var_100 * 72 / 100, 40, var_100 * 72 / 100, 8
		pos roomCoordX + 5 * 8 + 5, roomCoordY + 11 * 8 + 4
		gcopy 5, 80 - var_101 * 72 / 100, 40, var_101 * 72 / 100, 8
		pos roomCoordX + 5 * 8 + 4 + var_100 * 72 / 100, roomCoordY + 10 * 8
		gcopy 5, 80, 32, 8, 8
		pos roomCoordX + 5 * 8 + 4 + var_101 * 72 / 100, roomCoordY + 11 * 8 + 4
		gcopy 5, 80, 32, 8, 8
		pos roomCoordX + 4 * 8 + 4, roomCoordY + 10 * 8
		gcopy 5, 0, 48, 8, 8
		pos roomCoordX + 4 * 8 + 4, roomCoordY + 11 * 8 + 4
		gcopy 5, 0 + 8, 48, 8, 8
		pos roomCoordX + 4 * 8 + 4, roomCoordY + 13 * 8
		gcopy 5, 12 * 8, 40 + 16 * gameWindowSize, 11 * 8, 16
		if ( menuItemSelected == 0 ) {
			playerRoomCoordX = 4
			playerRoomCoordY = 16
		}
		if ( menuItemSelected == 1 ) {
			playerRoomCoordX = 3 * 8 + 4
			playerRoomCoordY = 16
		}
		if ( menuItemSelected == 2 ) {
			playerRoomCoordX = 6 * 8
			playerRoomCoordY = 0
		}
		if ( menuItemSelected == 3 ) {
			playerRoomCoordX = 7 * 8 + 4
			playerRoomCoordY = 0
		}
		if ( menuItemSelected == 4 ) {
			playerRoomCoordX = 9 * 8 + 4
			playerRoomCoordY = 0
		}
		if ( var_125 <= 16 ) {
			gmode 4, , , var_125 * 16
			var_92 = (16 - var_125) * (16 - var_125) / 32
		}
		else {
			gmode 4, , , 256
			var_92 = 0
		}
		pos 8 * 21, 8 * 3 + var_92
		gcopy 5, 192, 0, 80, 32
		pos 8 * 20, 8 * 7 + var_92
		gcopy 5, 192, 32 + 72 * var_113, 88, 72
	}
	else {
		if ( var_112 == 1 ) {
			repeat var_102
				pos roomCoordX + 6 * 8, roomCoordY + 3 * 8 + cnt * 24
				gcopy 5, 0, 120, 8 * 8, 32
				if ( menuItemSelected == cnt ) {
					var_92 = 0
				}
				else {
					var_92 = 1
				}
				pos roomCoordX + 7 * 8, roomCoordY + 4 * 8 + cnt * 24
				gcopy 5, 6 * 8 * cnt, 16 * var_92, 6 * 8, 16
			loop
			playerRoomCoordX = menuItemSelected * 24 + 4
			playerRoomCoordY = 16
			repeat 10
				var_130 = var_103(cnt, menuItemSelected)
				if ( var_130 >= 6000000 ) {
					var_92 = 5999999
				}
				var_131 = 8 * 20
				var_132 = 8 * 2 + cnt * 12
				var_106 = 0
*label_030
				exgoto var_106, 1, 11, *label_031
				if ( var_117 - cnt - var_106 <= 12 ) {
					var_133 = var_117 - cnt - var_106
				}
				else {
					var_133 = 12
				}
				if ( var_133 == 2 ) {
					var_133 = 0
				}
				if ( var_133 == 5 ) {
					var_133 = 1
				}
				if ( var_133 == 7 ) {
					var_133 = 1
				}
				if ( var_133 == 11 ) {
					var_133 = 1
				}
				if ( var_133 <= 0 ) {
					var_133 = 0
				}
				if ( var_130 >= 1 ) {
					gmode 4, , , 16 * var_133
				}
				else {
					gmode 4, , , 2 * var_133
				}
				if ( var_106 == 10 ) {
					pos var_131 + 5 * 11, var_132
					gcopy 2, var_130 / 1 \ 10 * 5, 96, 5, 8
				}
				if ( var_106 == 9 ) {
					pos var_131 + 5 * 10, var_132
					gcopy 2, var_130 / 10 \ 10 * 5, 96, 5, 8
				}
				if ( var_106 == 8 ) {
					pos var_131 + 5 * 9, var_132
					gcopy 2, 11 * 5, 96, 5, 8
				}
				if ( var_106 == 7 ) {
					pos var_131 + 5 * 8, var_132
					gcopy 2, var_130 / 100 \ 10 * 5, 96, 5, 8
				}
				if ( var_106 == 6 ) {
					pos var_131 + 5 * 7, var_132
					gcopy 2, var_130 / 1000 \ 6 * 5, 96, 5, 8
				}
				if ( var_106 == 5 ) {
					pos var_131 + 5 * 6, var_132
					gcopy 2, 10 * 5, 96, 5, 8
				}
				if ( var_106 == 4 ) {
					pos var_131 + 5 * 5, var_132
					gcopy 2, var_130 / 6000 \ 10 * 5, 96, 5, 8
				}
				if ( var_106 == 3 ) {
					pos var_131 + 5 * 4, var_132
					gcopy 2, var_130 / 60000 \ 10 * 5, 96, 5, 8
				}
				if ( var_106 == 2 ) {
					pos var_131 + 5 * 3, var_132
					gcopy 2, var_130 / 600000 \ 10 * 5, 96, 5, 8
				}
				if ( var_106 == 0 & var_130 != 0 ) {
					pos var_131 + 6, var_132
					gcopy 2, var_130 \ 12 * 8, 152, 8, 8
				}
				var_106 += 1
				goto *label_030
*label_031
			loop
			gmode 4, , , 256
		}
		else {
			if ( var_112 == 2 ) {
				repeat 14
					var_92 = 0
					if ( menuItemSelected == cnt ) {
						var_92 = var_124 * var_124 * var_124 / 8 / 12
					}
					pos 16 + cnt * 16, 8 * 16 - var_92
					gcopy 15, var_104(cnt) * 16, 448, 16, 16
				loop
				if ( var_115 >= 0 ) {
					if ( var_104(menuItemSelected) >= 1 ) {
						var_92 = var_115 * var_115 * var_115 / 4 / 16
						pos 48, 8 - var_92
						gcopy 15, menuItemSelected \ 4 * 160, menuItemSelected / 4 * 112, 160, 112
					}
				}
			}
		}
	}
	if ( var_112 <= 1 ) {
		pos roomCoordX + 3 * 8 + 4 + playerRoomCoordY, roomCoordY + 4 * 8 + playerRoomCoordX - 1
		gcopy 5, 88 + var_125 / 2 \ 6 * 8, 32, 8, 8
		pos roomCoordX + 15 * 8 + 4 - playerRoomCoordY, roomCoordY + 4 * 8 + playerRoomCoordX - 1
		gcopy 5, 136 + var_125 / 2 \ 6 * 8, 32, 8, 8
	}
	pos 0, 0
	gzoom 256 * (1 + gameWindowSize), 144 * (1 + gameWindowSize), 0, 0, 0, 256, 144
	pos 0, 0
	color 255, 255, 255
	mes var_102
	redraw 1
	var_134 += 1
	await 30
	goto *label_025
*label_032
	color 0, 0, 0
	boxf
	pos 144, 128
	gcopy 5, 0, 168, 112, 16
	var_92 = rnd(4)
	pos 144, 96
	gcopy 5, 40 * var_92, 184, 40, 32
	pos 0, 0
	gzoom 256 * (1 + gameWindowSize), 144 * (1 + gameWindowSize), 0, 0, 0, 256, 144
	var_109 = 0
	var_110 = 1
	gosub *label_195
	gosub *gameVarsInit
	redraw 0
	dim roomListType, levelSizeX, levelSizeY
	dim var_136, 4
	dim roomList2, levelSizeX, levelSizeY, 2
	color 0, 0, 0
	boxf
	roomCoordX3 = 0
*label_033
	exgoto roomCoordX3, 1, levelSizeX, *label_036
	roomCoordY3 = 0
*label_034
	exgoto roomCoordY3, 1, levelSizeY, *label_035
	pset roomCoordX3 * 2, roomCoordY3 * 2
	pset roomCoordX3 * 2 + 1, roomCoordY3 * 2
	pset roomCoordX3 * 2, roomCoordY3 * 2 + 1
	pset roomCoordX3 * 2 + 1, roomCoordY3 * 2 + 1
	roomCoordY3 += 1
	goto *label_034
*label_035
	roomCoordX3 += 1
	goto *label_033
*label_036
	var_138 = rnd(4)
	var_136((var_138 + 0) \ 4) = levelSizeX / 2
	var_136((var_138 + 1) \ 4) = levelSizeY * 3 / 4
	var_136((var_138 + 2) \ 4) = levelSizeX / 2
	roomCoordX2 = levelSizeX / 2
	roomCoordY2 = levelSizeY / 2
	var_141 = var_136(0) + var_136(1) + var_136(2) + var_136(3)
	var_142 = var_141
	var_92(0) = var_136(0)
	var_92(1) = var_136(0) + var_136(1)
	var_92(2) = var_136(0) + var_136(1) + var_136(2)
	roomCoordX4 = roomCoordX2
	roomCoordY4 = roomCoordY2
	playerRoomCoordX2 = roomCoordX2
	playerRoomCoordY2 = roomCoordY2
	repeat
		var_147 = rnd(var_141)
		if ( var_147 >= var_92(2) ) {
			var_147 = 3
		}
		else {
			if ( var_147 >= var_92(1) ) {
				var_147 = 2
			}
			else {
				if ( var_147 >= var_92(0) ) {
					var_147 = 1
				}
				else {
					var_147 = 0
				}
			}
		}
		if ( var_136(var_147) >= 1 ) {
			var_148 = roomCoordX2
			var_149 = roomCoordY2
			if ( var_147 == 0 ) {
				roomCoordX2 -= 1
			}
			if ( var_147 == 1 ) {
				roomCoordY2 -= 1
			}
			if ( var_147 == 2 ) {
				roomCoordX2 += 1
			}
			if ( var_147 == 3 ) {
				roomCoordY2 += 1
			}
			roomCoordX2 = (roomCoordX2 + levelSizeX) \ levelSizeX
			roomCoordY2 = (roomCoordY2 + levelSizeY) \ levelSizeY
			if ( roomListType(roomCoordX2, roomCoordY2) == 0 | rnd(10) == 1 ) {
				color 255, 1, 0
				pset roomCoordX2 * 2 + 1, roomCoordY2 * 2 + 1
				roomListType(roomCoordX2, roomCoordY2) = 1
				if ( var_147 == 0 ) {
					pset var_148 * 2 + 0, var_149 * 2 + 1
				}
				if ( var_147 == 1 ) {
					pset var_148 * 2 + 1, var_149 * 2 + 0
				}
				if ( var_147 == 2 ) {
					pset (var_148 * 2 + 2) \ (levelSizeX * 2), var_149 * 2 + 1
				}
				if ( var_147 == 3 ) {
					pset var_148 * 2 + 1, (var_149 * 2 + 2) \ (levelSizeY * 2)
				}
				var_136(var_147) -= 1
			}
			else {
				roomCoordX2 = var_148
				roomCoordY2 = var_149
			}
		}
		if ( var_136(0) + var_136(1) + var_136(2) + var_136(3) == 0 ) {
			break
		}
		await 0
	loop
	roomCoordX5 = roomCoordX2
	roomCoordY5 = roomCoordY2
	repeat var_122
		roomCoordX3 = 0
*label_037
		exgoto roomCoordX3, 1, levelSizeX, *label_040
		roomCoordY3 = 0
*label_038
		exgoto roomCoordY3, 1, levelSizeY, *label_039
		if ( roomListType(roomCoordX3, roomCoordY3) == 0 ) {
			var_147 = rnd(4)
			if ( cnt <= var_122 / 2 ) {
				var_92 = 2
				color 200, 1, 200
			}
			else {
				if ( cnt == var_122 - 2 ) {
					var_92 = 4
					color 200, 200, 200
				}
				else {
					var_92 = 4
					color 200, 200, 200
				}
			}
			if ( var_147 == 0 & roomListType((roomCoordX3 + levelSizeX - 1) \ levelSizeX, roomCoordY3) >= 1 ) {
				roomListType(roomCoordX3, roomCoordY3) = var_92
				pset roomCoordX3 * 2 + 0, roomCoordY3 * 2 + 1
			}
			if ( var_147 == 1 & roomListType(roomCoordX3, (roomCoordY3 + levelSizeY - 1) \ levelSizeY) >= 1 ) {
				roomListType(roomCoordX3, roomCoordY3) = var_92
				pset roomCoordX3 * 2 + 1, roomCoordY3 * 2 + 0
			}
			if ( var_147 == 2 & roomListType((roomCoordX3 + 1) \ levelSizeX, roomCoordY3) >= 1 ) {
				roomListType(roomCoordX3, roomCoordY3) = var_92
				pset (roomCoordX3 * 2 + 2) \ (levelSizeX * 2), roomCoordY3 * 2 + 1
			}
			if ( var_147 == 3 & roomListType(roomCoordX3, (roomCoordY3 + 1) \ levelSizeY) >= 1 ) {
				roomListType(roomCoordX3, roomCoordY3) = var_92
				pset roomCoordX3 * 2 + 1, (roomCoordY3 * 2 + 2) \ (levelSizeY * 2)
			}
		}
		roomCoordY3 += 1
		goto *label_038
*label_039
		roomCoordX3 += 1
		goto *label_037
*label_040
		await 0
	loop
	roomCoordX3 = 0
*label_041
	exgoto roomCoordX3, 1, levelSizeX, *label_044
	roomCoordY3 = 0
*label_042
	exgoto roomCoordY3, 1, levelSizeY, *label_043
	var_92 = 0
	pget roomCoordX3 * 4 + 2, roomCoordY3 * 4 + 1
	if ( ginfo(17) >= 1 ) {
		var_92 += 1
	}
	pget roomCoordX3 * 4 + 1, roomCoordY3 * 4 + 2
	if ( ginfo(17) >= 1 ) {
		var_92 += 1
	}
	pget roomCoordX3 * 4 + 3, roomCoordY3 * 4 + 2
	if ( ginfo(17) >= 1 ) {
		var_92 += 1
	}
	pget roomCoordX3 * 4 + 2, roomCoordY3 * 4 + 3
	if ( ginfo(17) >= 1 ) {
		var_92 += 1
	}
	if ( var_92 == 3 & rnd(3) >= 0 ) {
		color 100, 0, 255
		pset roomCoordX3 * 4 + 2, roomCoordY3 * 4 + 1
		pset roomCoordX3 * 4 + 1, roomCoordY3 * 4 + 2
		pset roomCoordX3 * 4 + 3, roomCoordY3 * 4 + 2
		pset roomCoordX3 * 4 + 2, roomCoordY3 * 4 + 3
	}
	roomCoordY3 += 1
	goto *label_042
*label_043
	roomCoordX3 += 1
	goto *label_041
*label_044
	dim roomList3, levelSizeX, levelSizeY
	roomCoordX3 = 0
*label_045
	exgoto roomCoordX3, 1, levelSizeX, *label_048
	roomCoordY3 = 0
*label_046
	exgoto roomCoordY3, 1, levelSizeY, *label_047
	if ( roomListType(roomCoordX3, roomCoordY3) == 0 ) {
		roomListType(roomCoordX3, roomCoordY3) = 4
	}
	if ( roomListType(roomCoordX3, roomCoordY3) == 1 ) {
		color 255, 200, 0
		pset roomCoordX3 * 2 + 1, roomCoordY3 * 2 + 1
	}
	if ( roomListType(roomCoordX3, roomCoordY3) == 2 ) {
		color 200, 50, 0
		pset roomCoordX3 * 2 + 1, roomCoordY3 * 2 + 1
	}
	if ( roomListType(roomCoordX3, roomCoordY3) == 3 ) {
		color 0, 0, 200
		pset roomCoordX3 * 2 + 1, roomCoordY3 * 2 + 1
	}
	if ( roomListType(roomCoordX3, roomCoordY3) == 4 ) {
		color 50, 0, 100
		pset roomCoordX3 * 2 + 1, roomCoordY3 * 2 + 1
	}
	if ( roomListType(roomCoordX3, roomCoordY3) == 5 ) {
		color 255, 255, 255
		pset roomCoordX3 * 2 + 1, roomCoordY3 * 2 + 1
	}
	if ( roomListType(roomCoordX3, roomCoordY3) == 6 ) {
		color 100, 255, 0
		pset roomCoordX3 * 2 + 1, roomCoordY3 * 2 + 1
	}
	if ( roomListType(roomCoordX3, roomCoordY3) == 7 ) {
		color 0, 255, 0
		pset roomCoordX3 * 2 + 1, roomCoordY3 * 2 + 1
	}
	pget roomCoordX3 * 2, roomCoordY3 * 2 + 1
	if ( ginfo(16) >= 1 ) {
		roomList3(roomCoordX3, roomCoordY3) += 1
	}
	pget roomCoordX3 * 2 + 1, roomCoordY3 * 2
	if ( ginfo(16) >= 1 ) {
		roomList3(roomCoordX3, roomCoordY3) += 2
	}
	pget (roomCoordX3 + levelSizeX + 1) \ levelSizeX * 2, roomCoordY3 * 2 + 1
	if ( ginfo(16) >= 1 ) {
		roomList3(roomCoordX3, roomCoordY3) += 4
	}
	pget roomCoordX3 * 2 + 1, (roomCoordY3 + levelSizeY + 1) \ levelSizeY * 2
	if ( ginfo(16) >= 1 ) {
		roomList3(roomCoordX3, roomCoordY3) += 8
	}
	color 1, 100, 100
	if ( roomList3(roomCoordX3, roomCoordY3) / 1 \ 2 == 1 ) {
		pset roomCoordX3 * 2 + 0, roomCoordY3 * 2 + 1
	}
	if ( roomList3(roomCoordX3, roomCoordY3) / 2 \ 2 == 1 ) {
		pset roomCoordX3 * 2 + 1, roomCoordY3 * 2 + 0
	}
	if ( roomList3(roomCoordX3, roomCoordY3) / 4 \ 2 == 1 ) {
		pset (roomCoordX3 * 2 + 2) \ (2 * levelSizeX), roomCoordY3 * 2 + 1
	}
	if ( roomList3(roomCoordX3, roomCoordY3) / 8 \ 2 == 1 ) {
		pset roomCoordX3 * 2 + 1, (roomCoordY3 * 2 + 2) \ (2 * levelSizeY)
	}
	roomCoordY3 += 1
	goto *label_046
*label_047
	roomCoordX3 += 1
	goto *label_045
*label_048
	var_92 = levelSizeX
	repeat
		roomCoordX = rnd(levelSizeX)
		roomCoordY = rnd(levelSizeY)
		if ( roomListType(roomCoordX, roomCoordY) == 2 ) {
			if ( roomList3(roomCoordX, roomCoordY) / 1 \ 2 + roomList3(roomCoordX, roomCoordY) / 2 \ 2 + roomList3(roomCoordX, roomCoordY) / 4 \ 2 + roomList3(roomCoordX, roomCoordY) / 8 \ 2 == 1 | cnt >= 5000 ) {
				roomListType(roomCoordX, roomCoordY) = 4
				var_92 -= 1
			}
		}
		if ( var_92 <= 0 ) {
			break
		}
	loop
	dim roomList4, levelSizeX, levelSizeY
	roomList4(roomCoordX4, roomCoordY4) = 1
	roomList4(roomCoordX5, roomCoordY5) = 2
	repeat 800
		var_92 = 0
		roomCoordX3 = 0
*label_049
		exgoto roomCoordX3, 1, levelSizeX, *label_052
		roomCoordY3 = 0
*label_050
		exgoto roomCoordY3, 1, levelSizeY, *label_051
		playerRoomCoordX = (roomCoordX3 + 1) \ levelSizeX
		playerRoomCoordY = (roomCoordY3 + 1) \ levelSizeY
		roomCoordX = (roomCoordX3 + 0) \ levelSizeX
		roomCoordY = (roomCoordY3 + 1) \ levelSizeY
		if ( roomList4(playerRoomCoordX, playerRoomCoordY) == 0 & roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(roomCoordX, roomCoordY) / 4 \ 2 == 1 ) {
			roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
			var_92 = 1
		}
		roomCoordX = (roomCoordX3 + 1) \ levelSizeX
		roomCoordY = (roomCoordY3 + 0) \ levelSizeY
		if ( roomList4(playerRoomCoordX, playerRoomCoordY) == 0 & roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(roomCoordX, roomCoordY) / 8 \ 2 == 1 ) {
			roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
			var_92 = 1
		}
		roomCoordX = (roomCoordX3 + 2) \ levelSizeX
		roomCoordY = (roomCoordY3 + 1) \ levelSizeY
		if ( roomList4(playerRoomCoordX, playerRoomCoordY) == 0 & roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(roomCoordX, roomCoordY) / 1 \ 2 == 1 ) {
			roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
			var_92 = 1
		}
		roomCoordX = (roomCoordX3 + 1) \ levelSizeX
		roomCoordY = (roomCoordY3 + 2) \ levelSizeY
		if ( roomList4(playerRoomCoordX, playerRoomCoordY) == 0 & roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(roomCoordX, roomCoordY) / 2 \ 2 == 1 ) {
			roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
			var_92 = 1
		}
		roomCoordY3 += 1
		goto *label_050
*label_051
		roomCoordX3 += 1
		goto *label_049
*label_052
		if ( var_92 == 0 ) {
			break
		}
	loop
	roomCoordX3 = 0
*label_053
	exgoto roomCoordX3, 1, levelSizeX, *label_056
	roomCoordY3 = 0
*label_054
	exgoto roomCoordY3, 1, levelSizeY, *label_055
	playerRoomCoordX = (roomCoordX3 + 1) \ levelSizeX
	playerRoomCoordY = (roomCoordY3 + 1) \ levelSizeY
	var_92 = 0
	if ( rnd(7000) == 0 & roomListType(playerRoomCoordX, playerRoomCoordY) == 4 ) {
		var_92 = 1
	}
	if ( var_92 == 1 ) {
		roomCoordX = (roomCoordX3 + 0) \ levelSizeX
		roomCoordY = (roomCoordY3 + 1) \ levelSizeY
		if ( roomListType(roomCoordX, roomCoordY) == 4 & roomList4(playerRoomCoordX, playerRoomCoordY) >= 1 & roomList3(playerRoomCoordX, playerRoomCoordY) / 1 \ 2 == 0 ) {
			roomList3(playerRoomCoordX, playerRoomCoordY) += 1
		}
		if ( roomList4(roomCoordX, roomCoordY) == roomList4(playerRoomCoordX, playerRoomCoordY) & roomList3(playerRoomCoordX, playerRoomCoordY) / 1 \ 2 == 0 ) {
			roomList3(playerRoomCoordX, playerRoomCoordY) += 1
		}
		roomCoordX = (roomCoordX3 + 1) \ levelSizeX
		roomCoordY = (roomCoordY3 + 0) \ levelSizeY
		if ( roomListType(roomCoordX, roomCoordY) == 4 & roomList4(playerRoomCoordX, playerRoomCoordY) >= 1 & roomList3(playerRoomCoordX, playerRoomCoordY) / 2 \ 2 == 0 ) {
			roomList3(playerRoomCoordX, playerRoomCoordY) += 2
		}
		if ( roomList4(roomCoordX, roomCoordY) == roomList4(playerRoomCoordX, playerRoomCoordY) & roomList3(playerRoomCoordX, playerRoomCoordY) / 2 \ 2 == 0 ) {
			roomList3(playerRoomCoordX, playerRoomCoordY) += 2
		}
		roomCoordX = (roomCoordX3 + 2) \ levelSizeX
		roomCoordY = (roomCoordY3 + 1) \ levelSizeY
		if ( roomListType(roomCoordX, roomCoordY) == 4 & roomList4(playerRoomCoordX, playerRoomCoordY) >= 1 & roomList3(playerRoomCoordX, playerRoomCoordY) / 4 \ 2 == 0 ) {
			roomList3(playerRoomCoordX, playerRoomCoordY) += 4
		}
		if ( roomList4(roomCoordX, roomCoordY) == roomList4(playerRoomCoordX, playerRoomCoordY) & roomList3(playerRoomCoordX, playerRoomCoordY) / 4 \ 2 == 0 ) {
			roomList3(playerRoomCoordX, playerRoomCoordY) += 4
		}
		roomCoordX = (roomCoordX3 + 1) \ levelSizeX
		roomCoordY = (roomCoordY3 + 2) \ levelSizeY
		if ( roomListType(roomCoordX, roomCoordY) == 4 & roomList4(playerRoomCoordX, playerRoomCoordY) >= 1 & roomList3(playerRoomCoordX, playerRoomCoordY) / 8 \ 2 == 0 ) {
			roomList3(playerRoomCoordX, playerRoomCoordY) += 8
		}
		if ( roomList4(roomCoordX, roomCoordY) == roomList4(playerRoomCoordX, playerRoomCoordY) & roomList3(playerRoomCoordX, playerRoomCoordY) / 8 \ 2 == 0 ) {
			roomList3(playerRoomCoordX, playerRoomCoordY) += 8
		}
	}
	roomCoordY3 += 1
	goto *label_054
*label_055
	roomCoordX3 += 1
	goto *label_053
*label_056
	gosub *label_158
	var_92 = levelKeysNeeded
	repeat
		roomCoordX = rnd(levelSizeX)
		roomCoordY = rnd(levelSizeY)
		if ( roomListType(roomCoordX, roomCoordY) == 2 ) {
			if ( roomList3(roomCoordX, roomCoordY) / 1 \ 2 + roomList3(roomCoordX, roomCoordY) / 2 \ 2 + roomList3(roomCoordX, roomCoordY) / 4 \ 2 + roomList3(roomCoordX, roomCoordY) / 8 \ 2 == 1 | cnt >= 5000 ) {
				roomListType(roomCoordX, roomCoordY) = 5
				var_92 -= 1
			}
		}
		if ( var_92 <= 0 ) {
			break
		}
	loop
	roomListType(roomCoordX4, roomCoordY4) = 6
	roomListType(roomCoordX5, roomCoordY5) = 7
	roomCoordX3 = 0
*label_057
	exgoto roomCoordX3, 1, levelSizeX, *label_062
	roomCoordY3 = 0
*label_058
	exgoto roomCoordY3, 1, levelSizeY, *label_061
	if ( roomListType((roomCoordX3 + 1) \ levelSizeX, (roomCoordY3 + 1) \ levelSizeY) >= 5 ) {
		var_106 = 0
*label_059
		exgoto var_106, 1, 9, *label_060
		roomCoordX = (roomCoordX3 + var_106 \ 3) \ levelSizeX
		roomCoordY = (roomCoordY3 + var_106 / 3) \ levelSizeY
		if ( roomListType(roomCoordX, roomCoordY) == 4 ) {
			roomListType(roomCoordX, roomCoordY) = 2
		}
		if ( roomList3(roomCoordX, roomCoordY) == 0 ) {
			if ( var_106 == 0 ) {
				if ( rnd(2) == 0 ) {
					roomList3(roomCoordX, roomCoordY) += 4
				}
				else {
					roomList3(roomCoordX, roomCoordY) += 8
				}
			}
			if ( var_106 == 2 ) {
				if ( rnd(2) == 0 ) {
					roomList3(roomCoordX, roomCoordY) += 1
				}
				else {
					roomList3(roomCoordX, roomCoordY) += 8
				}
			}
			if ( var_106 == 6 ) {
				if ( rnd(2) == 0 ) {
					roomList3(roomCoordX, roomCoordY) += 2
				}
				else {
					roomList3(roomCoordX, roomCoordY) += 4
				}
			}
			if ( var_106 == 8 ) {
				if ( rnd(2) == 0 ) {
					roomList3(roomCoordX, roomCoordY) += 1
				}
				else {
					roomList3(roomCoordX, roomCoordY) += 2
				}
			}
			if ( var_106 == 1 | var_106 == 7 ) {
				if ( rnd(2) == 0 ) {
					roomList3(roomCoordX, roomCoordY) += 1
				}
				else {
					roomList3(roomCoordX, roomCoordY) += 4
				}
			}
			if ( var_106 == 3 | var_106 == 5 ) {
				if ( rnd(2) == 0 ) {
					roomList3(roomCoordX, roomCoordY) += 2
				}
				else {
					roomList3(roomCoordX, roomCoordY) += 8
				}
			}
		}
		var_106 += 1
		goto *label_059
	}
*label_060
	roomCoordY3 += 1
	goto *label_058
*label_061
	roomCoordX3 += 1
	goto *label_057
*label_062
	dim roomList4, levelSizeX, levelSizeY
	roomList4(roomCoordX4, roomCoordY4) = 1
	roomList4(roomCoordX5, roomCoordY5) = 2
	repeat 800
		var_92 = 0
		roomCoordX3 = 0
*label_063
		exgoto roomCoordX3, 1, levelSizeX, *label_066
		roomCoordY3 = 0
*label_064
		exgoto roomCoordY3, 1, levelSizeY, *label_065
		playerRoomCoordX = (roomCoordX3 + 1) \ levelSizeX
		playerRoomCoordY = (roomCoordY3 + 1) \ levelSizeY
		roomCoordX = (roomCoordX3 + 0) \ levelSizeX
		roomCoordY = (roomCoordY3 + 1) \ levelSizeY
		if ( roomList4(playerRoomCoordX, playerRoomCoordY) == 0 & roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(roomCoordX, roomCoordY) / 4 \ 2 == 1 & roomListType(playerRoomCoordX, playerRoomCoordY) != 4 ) {
			roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
			var_92 = 1
		}
		roomCoordX = (roomCoordX3 + 1) \ levelSizeX
		roomCoordY = (roomCoordY3 + 0) \ levelSizeY
		if ( roomList4(playerRoomCoordX, playerRoomCoordY) == 0 & roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(roomCoordX, roomCoordY) / 8 \ 2 == 1 & roomListType(playerRoomCoordX, playerRoomCoordY) != 4 ) {
			roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
			var_92 = 1
		}
		roomCoordX = (roomCoordX3 + 2) \ levelSizeX
		roomCoordY = (roomCoordY3 + 1) \ levelSizeY
		if ( roomList4(playerRoomCoordX, playerRoomCoordY) == 0 & roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(roomCoordX, roomCoordY) / 1 \ 2 == 1 & roomListType(playerRoomCoordX, playerRoomCoordY) != 4 ) {
			roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
			var_92 = 1
		}
		roomCoordX = (roomCoordX3 + 1) \ levelSizeX
		roomCoordY = (roomCoordY3 + 2) \ levelSizeY
		if ( roomList4(playerRoomCoordX, playerRoomCoordY) == 0 & roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(roomCoordX, roomCoordY) / 2 \ 2 == 1 & roomListType(playerRoomCoordX, playerRoomCoordY) != 4 ) {
			roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
			var_92 = 1
		}
		roomCoordY3 += 1
		goto *label_064
*label_065
		roomCoordX3 += 1
		goto *label_063
*label_066
		if ( var_92 == 0 ) {
			break
		}
	loop
	roomCoordX3 = 0
*label_067
	exgoto roomCoordX3, 1, levelSizeX, *label_070
	roomCoordY3 = 0
*label_068
	exgoto roomCoordY3, 1, levelSizeY, *label_069
	playerRoomCoordX = (roomCoordX3 + 1) \ levelSizeX
	playerRoomCoordY = (roomCoordY3 + 1) \ levelSizeY
	if ( roomList4(playerRoomCoordX, playerRoomCoordY) == 0 & roomListType(playerRoomCoordX, playerRoomCoordY) == 2 ) {
		var_92 = 0
		roomCoordX = (roomCoordX3 + 0) \ levelSizeX
		roomCoordY = (roomCoordY3 + 1) \ levelSizeY
		if ( roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(playerRoomCoordX, playerRoomCoordY) / 1 \ 2 == 0 ) {
			roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
			roomList3(playerRoomCoordX, playerRoomCoordY) += 1
			var_92 = roomList4(playerRoomCoordX, playerRoomCoordY)
		}
		roomCoordX = (roomCoordX3 + 1) \ levelSizeX
		roomCoordY = (roomCoordY3 + 0) \ levelSizeY
		if ( roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(playerRoomCoordX, playerRoomCoordY) / 2 \ 2 == 0 ) {
			if ( var_92 == roomList4(roomCoordX, roomCoordY) | var_92 == 0 ) {
				roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
				roomList3(playerRoomCoordX, playerRoomCoordY) += 2
				var_92 = roomList4(playerRoomCoordX, playerRoomCoordY)
			}
		}
		roomCoordX = (roomCoordX3 + 2) \ levelSizeX
		roomCoordY = (roomCoordY3 + 1) \ levelSizeY
		if ( roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(playerRoomCoordX, playerRoomCoordY) / 4 \ 2 == 0 ) {
			if ( var_92 == roomList4(roomCoordX, roomCoordY) | var_92 == 0 ) {
				roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
				roomList3(playerRoomCoordX, playerRoomCoordY) += 4
				var_92 = roomList4(playerRoomCoordX, playerRoomCoordY)
			}
		}
		roomCoordX = (roomCoordX3 + 1) \ levelSizeX
		roomCoordY = (roomCoordY3 + 2) \ levelSizeY
		if ( roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(playerRoomCoordX, playerRoomCoordY) / 8 \ 2 == 0 ) {
			if ( var_92 == roomList4(roomCoordX, roomCoordY) | var_92 == 0 ) {
				roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
				roomList3(playerRoomCoordX, playerRoomCoordY) += 8
				var_92 = roomList4(playerRoomCoordX, playerRoomCoordY)
			}
		}
	}
	roomCoordY3 += 1
	goto *label_068
*label_069
	roomCoordX3 += 1
	goto *label_067
*label_070
	roomCoordX3 = 0
*label_071
	exgoto roomCoordX3, 1, levelSizeX, *label_074
	roomCoordY3 = 0
*label_072
	exgoto roomCoordY3, 1, levelSizeY, *label_073
	playerRoomCoordX = (roomCoordX3 + 1) \ levelSizeX
	playerRoomCoordY = (roomCoordY3 + 1) \ levelSizeY
	if ( roomList4(playerRoomCoordX, playerRoomCoordY) == 0 ) {
		var_92 = 0
		roomCoordX = (roomCoordX3 + 0) \ levelSizeX
		roomCoordY = (roomCoordY3 + 1) \ levelSizeY
		if ( roomListType(roomCoordX, roomCoordY) == 4 & roomListType(playerRoomCoordX, playerRoomCoordY) != 4 ) {
			var_92 += 1
		}
		roomCoordX = (roomCoordX3 + 1) \ levelSizeX
		roomCoordY = (roomCoordY3 + 0) \ levelSizeY
		if ( roomListType(roomCoordX, roomCoordY) == 4 & roomListType(playerRoomCoordX, playerRoomCoordY) != 4 ) {
			var_92 += 1
		}
		roomCoordX = (roomCoordX3 + 2) \ levelSizeX
		roomCoordY = (roomCoordY3 + 1) \ levelSizeY
		if ( roomListType(roomCoordX, roomCoordY) == 4 & roomListType(playerRoomCoordX, playerRoomCoordY) != 4 ) {
			var_92 += 1
		}
		roomCoordX = (roomCoordX3 + 1) \ levelSizeX
		roomCoordY = (roomCoordY3 + 2) \ levelSizeY
		if ( roomListType(roomCoordX, roomCoordY) == 4 & roomListType(playerRoomCoordX, playerRoomCoordY) != 4 ) {
			var_92 += 1
		}
		if ( var_92 == 4 ) {
			roomListType(playerRoomCoordX, playerRoomCoordY) = 4
		}
	}
	roomCoordY3 += 1
	goto *label_072
*label_073
	roomCoordX3 += 1
	goto *label_071
*label_074
	gosub *label_158
	dim roomList4, levelSizeX, levelSizeY
	roomList4(roomCoordX4, roomCoordY4) = 1
	roomList4(roomCoordX5, roomCoordY5) = 2
	var_112 = 0
	repeat 800
		var_92 = 0
		var_112 += 1
		roomCoordX3 = 0
*label_075
		exgoto roomCoordX3, 1, levelSizeX, *label_078
		roomCoordY3 = 0
*label_076
		exgoto roomCoordY3, 1, levelSizeY, *label_077
		playerRoomCoordX = (roomCoordX3 + 1) \ levelSizeX
		playerRoomCoordY = (roomCoordY3 + 1) \ levelSizeY
		if ( roomListType(playerRoomCoordX, playerRoomCoordY) != 4 ) {
			roomCoordX = (roomCoordX3 + 0) \ levelSizeX
			roomCoordY = (roomCoordY3 + 1) \ levelSizeY
			if ( roomList4(playerRoomCoordX, playerRoomCoordY) == 0 & roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(roomCoordX, roomCoordY) / 4 \ 2 == 1 ) {
				roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
				var_92 = 1
				var_112 = 0
			}
			roomCoordX = (roomCoordX3 + 1) \ levelSizeX
			roomCoordY = (roomCoordY3 + 0) \ levelSizeY
			if ( roomList4(playerRoomCoordX, playerRoomCoordY) == 0 & roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(roomCoordX, roomCoordY) / 8 \ 2 == 1 ) {
				roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
				var_92 = 1
				var_112 = 0
			}
			roomCoordX = (roomCoordX3 + 2) \ levelSizeX
			roomCoordY = (roomCoordY3 + 1) \ levelSizeY
			if ( roomList4(playerRoomCoordX, playerRoomCoordY) == 0 & roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(roomCoordX, roomCoordY) / 1 \ 2 == 1 ) {
				roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
				var_92 = 1
				var_112 = 0
			}
			roomCoordX = (roomCoordX3 + 1) \ levelSizeX
			roomCoordY = (roomCoordY3 + 2) \ levelSizeY
			if ( roomList4(playerRoomCoordX, playerRoomCoordY) == 0 & roomList4(roomCoordX, roomCoordY) >= 1 & roomList3(roomCoordX, roomCoordY) / 2 \ 2 == 1 ) {
				roomList4(playerRoomCoordX, playerRoomCoordY) = roomList4(roomCoordX, roomCoordY)
				var_92 = 1
				var_112 = 0
			}
		}
		roomCoordY3 += 1
		goto *label_076
*label_077
		roomCoordX3 += 1
		goto *label_075
*label_078
		if ( var_92 == 0 & var_112 >= 20 ) {
			break
		}
	loop
	var_154 = 0
	roomCoordX3 = 0
*label_079
	exgoto roomCoordX3, 1, levelSizeX, *label_082
	roomCoordY3 = 0
*label_080
	exgoto roomCoordY3, 1, levelSizeY, *label_081
	if ( roomList4(roomCoordX3, roomCoordY3) == 0 ) {
		if ( roomListType(roomCoordX3, roomCoordY3) == 5 ) {
			levelKeysNeeded -= 1
			var_154 += 1
		}
		roomListType(roomCoordX3, roomCoordY3) = 4
	}
	roomCoordY3 += 1
	goto *label_080
*label_081
	roomCoordX3 += 1
	goto *label_079
*label_082
	gosub *label_158
	dim roomList5, levelSizeX, levelSizeY
	roomCoordX3 = 0
*label_083
	exgoto roomCoordX3, 1, levelSizeX, *label_088
	roomCoordY3 = 0
*label_084
	exgoto roomCoordY3, 1, levelSizeY, *label_087
	var_92 = 0
	var_106 = 0
*label_085
	exgoto var_106, 1, 9, *label_086
	if ( roomListType((roomCoordX3 + var_106 \ 3) \ levelSizeX, (roomCoordY3 + var_106 / 3) \ levelSizeY) == 4 & var_106 != 4 ) {
		var_92 += 1
	}
	var_106 += 1
	goto *label_085
*label_086
	if ( roomListType((roomCoordX3 + 1) \ levelSizeX, (roomCoordY3 + 1) \ levelSizeY) != 4 ) {
		roomList5((roomCoordX3 + 1) \ levelSizeX, (roomCoordY3 + 1) \ levelSizeY) = var_92
	}
	else {
		roomList5((roomCoordX3 + 1) \ levelSizeX, (roomCoordY3 + 1) \ levelSizeY) = 8
	}
	roomCoordY3 += 1
	goto *label_084
*label_087
	roomCoordX3 += 1
	goto *label_083
*label_088
	roomCoordX3 = 0
*label_089
	exgoto roomCoordX3, 1, levelSizeX, *label_092
	roomCoordY3 = 0
*label_090
	exgoto roomCoordY3, 1, levelSizeY, *label_091
	if ( roomListType(roomCoordX3, roomCoordY3) == 2 & roomList5(roomCoordX3, roomCoordY3) == 8 ) {
		roomListType(roomCoordX3, roomCoordY3) = 7
	}
	roomCoordY3 += 1
	goto *label_090
*label_091
	roomCoordX3 += 1
	goto *label_089
*label_092
	repeat var_154
		playerRoomCoordX = 0
		roomCoordX3 = 0
*label_093
		exgoto roomCoordX3, 1, levelSizeX, *label_096
		roomCoordY3 = 0
*label_094
		exgoto roomCoordY3, 1, levelSizeY, *label_095
		var_92 = 0
		if ( roomList3(roomCoordX3, roomCoordY3) / 1 \ 2 == 1 ) {
			var_92 += 1
		}
		if ( roomList3(roomCoordX3, roomCoordY3) / 2 \ 2 == 1 ) {
			var_92 += 1
		}
		if ( roomList3(roomCoordX3, roomCoordY3) / 4 \ 2 == 1 ) {
			var_92 += 1
		}
		if ( roomList3(roomCoordX3, roomCoordY3) / 8 \ 2 == 1 ) {
			var_92 += 1
		}
		if ( var_92 == 1 & roomListType(roomCoordX3, roomCoordY3) == 2 & roomList5(roomCoordX3, roomCoordY3) == 0 & playerRoomCoordX == 0 ) {
			roomListType(roomCoordX3, roomCoordY3) = 5
			playerRoomCoordX = 1
			levelKeysNeeded += 1
		}
		roomCoordY3 += 1
		goto *label_094
*label_095
		roomCoordX3 += 1
		goto *label_093
*label_096
	loop
	dim roomList6, levelSizeX, levelSizeY
	roomCoordX3 = 0
*label_097
	exgoto roomCoordX3, 1, levelSizeX - 1, *label_100
	roomCoordY3 = 0
*label_098
	exgoto roomCoordY3, 1, levelSizeY, *label_099
	if ( rnd(4) == 0 ) {
		if ( roomList5(roomCoordX3, roomCoordY3) == roomList5(roomCoordX3 + 1, roomCoordY3) ) {
			if ( roomListType(roomCoordX3, roomCoordY3) == 1 | roomListType(roomCoordX3, roomCoordY3) == 2 ) {
				if ( roomListType(roomCoordX3 + 1, roomCoordY3) == 1 | roomListType(roomCoordX3 + 1, roomCoordY3) == 2 ) {
					if ( roomList3(roomCoordX3, roomCoordY3) / 4 \ 2 == 1 & roomList3(roomCoordX3 + 1, roomCoordY3) / 1 \ 2 == 1 ) {
						if ( roomList6(roomCoordX3, roomCoordY3) + roomList6(roomCoordX3 + 1, roomCoordY3) == 0 ) {
							roomList6(roomCoordX3, roomCoordY3) = 2
							roomList6(roomCoordX3 + 1, roomCoordY3) = 4
						}
					}
				}
			}
		}
	}
	roomCoordY3 += 1
	goto *label_098
*label_099
	roomCoordX3 += 1
	goto *label_097
*label_100
	roomCoordX3 = 0
*label_101
	exgoto roomCoordX3, 1, levelSizeX, *label_110
	roomCoordY3 = 0
*label_102
	exgoto roomCoordY3, 1, levelSizeY - 1, *label_109
	if ( rnd(4) == 0 ) {
		if ( roomList5(roomCoordX3, roomCoordY3) == roomList5(roomCoordX3, roomCoordY3 + 1) ) {
			if ( roomListType(roomCoordX3, roomCoordY3) == 1 | roomListType(roomCoordX3, roomCoordY3) == 2 ) {
				if ( roomListType(roomCoordX3, roomCoordY3 + 1) == 1 | roomListType(roomCoordX3, roomCoordY3 + 1) == 2 ) {
					if ( roomList3(roomCoordX3, roomCoordY3 + 1) / 8 \ 2 == 1 & roomList3(roomCoordX3, roomCoordY3 + 1) / 2 \ 2 == 1 ) {
						if ( roomList6(roomCoordX3, roomCoordY3) + roomList6(roomCoordX3, roomCoordY3 + 1) == 0 ) {
							roomList6(roomCoordX3, roomCoordY3) = 3
							roomList6(roomCoordX3, roomCoordY3 + 1) = 1
						}
					}
				}
			}
		}
	}
	roomCoordX3 = 0
*label_103
	exgoto roomCoordX3, 1, levelSizeX, *label_108
	roomCoordY3 = 0
*label_104
	exgoto roomCoordY3, 1, levelSizeY, *label_107
	var_106 = 0
*label_105
	exgoto var_106, 1, 2, *label_106
	roomList2(roomCoordX3, roomCoordY3, var_106) = rnd(5) + 1
	var_106 += 1
	goto *label_105
*label_106
	roomCoordY3 += 1
	goto *label_104
*label_107
	roomCoordX3 += 1
	goto *label_103
*label_108
	roomCoordY3 += 1
	goto *label_102
*label_109
	roomCoordX3 += 1
	goto *label_101
*label_110
	roomCoordX3 = 0
*label_111
	exgoto roomCoordX3, 1, levelSizeX, *label_114
	roomCoordY3 = 0
*label_112
	exgoto roomCoordY3, 1, levelSizeY, *label_113
	roomCoordX = (roomCoordX3 + 1) \ levelSizeX
	roomCoordY = (roomCoordY3 + 1) \ levelSizeY
	if ( roomList6(roomCoordX3, roomCoordY3) == 2 ) {
		roomList2(roomCoordX3, roomCoordY3, 1) = 1 + rnd(3)
		roomList2(roomCoordX3, roomCoordY, 1) = 1 + rnd(3)
	}
	if ( roomList6(roomCoordX3, roomCoordY3) == 4 ) {
		roomList2(roomCoordX3, roomCoordY3, 1) = 3 + rnd(3)
		roomList2(roomCoordX3, roomCoordY, 1) = 3 + rnd(3)
	}
	if ( roomList6(roomCoordX3, roomCoordY3) == 3 ) {
		roomList2(roomCoordX3, roomCoordY3, 0) = 1 + rnd(3)
		roomList2(roomCoordX, roomCoordY3, 0) = 1 + rnd(3)
	}
	if ( roomList6(roomCoordX3, roomCoordY3) == 1 ) {
		roomList2(roomCoordX3, roomCoordY3, 0) = 3 + rnd(3)
		roomList2(roomCoordX, roomCoordY3, 0) = 3 + rnd(3)
	}
	roomCoordY3 += 1
	goto *label_112
*label_113
	roomCoordX3 += 1
	goto *label_111
*label_114
	roomCoordX3 = 0
*label_115
	exgoto roomCoordX3, 1, levelSizeX, *label_118
	roomCoordY3 = 0
*label_116
	exgoto roomCoordY3, 1, levelSizeY, *label_117
	roomCoordX = (roomCoordX3 + 1) \ levelSizeX
	roomCoordY = (roomCoordY3 + 1) \ levelSizeY
	if ( roomList6(roomCoordX3, roomCoordY3) == 2 & roomList6(roomCoordX3, roomCoordY) == 4 ) {
		roomList2(roomCoordX3, roomCoordY, 1) = 3
	}
	if ( roomList6(roomCoordX3, roomCoordY3) == 4 & roomList6(roomCoordX3, roomCoordY) == 2 ) {
		roomList2(roomCoordX3, roomCoordY, 1) = 3
	}
	if ( roomList6(roomCoordX3, roomCoordY3) == 1 & roomList6(roomCoordX, roomCoordY3) == 3 ) {
		roomList2(roomCoordX, roomCoordY3, 0) = 3
	}
	if ( roomList6(roomCoordX3, roomCoordY3) == 3 & roomList6(roomCoordX, roomCoordY3) == 1 ) {
		roomList2(roomCoordX, roomCoordY3, 0) = 3
	}
	roomCoordY3 += 1
	goto *label_116
*label_117
	roomCoordX3 += 1
	goto *label_115
*label_118
	dim var_157, levelSizeX * 7, levelSizeY * 7
	roomCoordX3 = 0
*label_119
	exgoto roomCoordX3, 1, levelSizeX, *label_154
	roomCoordY3 = 0
*label_120
	exgoto roomCoordY3, 1, levelSizeY, *label_153
	var_158 = 0
*label_121
	exgoto var_158, 1, 7, *label_124
	var_159 = 0
*label_122
	exgoto var_159, 1, 7, *label_123
	playerRoomCoordX = var_158 + roomCoordX3 * 7
	playerRoomCoordY = var_159 + roomCoordY3 * 7
	var_157(playerRoomCoordX, playerRoomCoordY) = 5 + rnd(4) * 2 + (var_158 + var_159 + 1) \ 2
	if ( var_159 <= rnd(3) & rnd(2) == 0 ) {
		var_157(playerRoomCoordX, playerRoomCoordY) = 13 + rnd(2) * 2 + (var_158 + var_159 + 1) \ 2
	}
	if ( var_159 <= rnd(7) & var_158 \ 7 == 0 ) {
		var_157(playerRoomCoordX, playerRoomCoordY) = 13 + rnd(2) * 2 + (var_158 + var_159 + 1) \ 2
	}
	if ( var_158 >= 1 & var_159 >= 1 & var_158 <= 5 & var_159 <= 5 ) {
		var_157(playerRoomCoordX, playerRoomCoordY) = 1 + rnd(4) * 2 + (var_158 + var_159 + 1) \ 2
	}
	if ( var_158 == 3 & var_159 == 3 ) {
		var_157(playerRoomCoordX, playerRoomCoordY) = 9 + rnd(8)
	}
	var_159 += 1
	goto *label_122
*label_123
	var_158 += 1
	goto *label_121
*label_124
	var_160 = rnd(5)
	if ( rnd(20) == 0 ) {
		var_160 = 5
	}
	if ( roomListType(roomCoordX3, roomCoordY3) == 4 ) {
		var_160 = 10
	}
	if ( roomListType(roomCoordX3, roomCoordY3) >= 5 ) {
		var_160 = 1
	}
	if ( var_160 == 0 ) {
		var_158 = 0
*label_125
		exgoto var_158, 1, 7, *label_128
		var_159 = 0
*label_126
		exgoto var_159, 1, 7, *label_127
		if ( var_158 >= 2 & var_159 >= 2 & var_158 <= 4 & var_159 <= 4 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		var_159 += 1
		goto *label_126
*label_127
		var_158 += 1
		goto *label_125
*label_128
		gosub *label_155
	}
	if ( var_160 == 1 ) {
		var_158 = 0
*label_129
		exgoto var_158, 1, 7, *label_132
		var_159 = 0
*label_130
		exgoto var_159, 1, 7, *label_131
		if ( var_158 >= 1 & var_159 >= 1 & var_158 <= 5 & var_159 <= 5 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		var_159 += 1
		goto *label_130
*label_131
		var_158 += 1
		goto *label_129
*label_132
		gosub *label_155
	}
	if ( var_160 == 2 | var_160 == 0 ) {
		var_136(0) = roomList3(roomCoordX3, roomCoordY3) / 1 \ 2
		var_136(1) = roomList3(roomCoordX3, roomCoordY3) / 2 \ 2
		var_136(2) = roomList3(roomCoordX3, roomCoordY3) / 4 \ 2
		var_136(3) = roomList3(roomCoordX3, roomCoordY3) / 8 \ 2
		if ( var_136(0) + var_136(1) + var_136(2) + var_136(3) == 1 ) {
			if ( var_136(0) == 1 | var_136(2) == 1 ) {
				var_147 = 4
				gosub *label_157
			}
			if ( var_136(1) == 1 | var_136(3) == 1 ) {
				var_147 = 5
				gosub *label_157
			}
		}
		if ( var_136(0) + var_136(1) + var_136(2) + var_136(3) == 2 ) {
			if ( var_136(0) == 1 & var_136(1) == 1 ) {
				var_147 = 0
				gosub *label_157
			}
			if ( var_136(2) == 1 & var_136(1) == 1 ) {
				var_147 = 1
				gosub *label_157
			}
			if ( var_136(0) == 1 & var_136(3) == 1 ) {
				var_147 = 2
				gosub *label_157
			}
			if ( var_136(2) == 1 & var_136(3) == 1 ) {
				var_147 = 3
				gosub *label_157
			}
			if ( var_136(0) == 1 & var_136(2) == 1 ) {
				var_147 = 4
				gosub *label_157
			}
			if ( var_136(1) == 1 & var_136(3) == 1 ) {
				var_147 = 5
				gosub *label_157
			}
		}
		if ( var_136(0) + var_136(1) + var_136(2) + var_136(3) == 3 ) {
			roomCoordX = rnd(6)
			if ( var_136(0) == 1 & var_136(1) == 1 & roomCoordX != 0 ) {
				var_147 = 0
				gosub *label_157
			}
			if ( var_136(2) == 1 & var_136(1) == 1 & roomCoordX != 1 ) {
				var_147 = 1
				gosub *label_157
			}
			if ( var_136(0) == 1 & var_136(3) == 1 & roomCoordX != 2 ) {
				var_147 = 2
				gosub *label_157
			}
			if ( var_136(2) == 1 & var_136(3) == 1 & roomCoordX != 3 ) {
				var_147 = 3
				gosub *label_157
			}
			if ( var_136(0) == 1 & var_136(2) == 1 & roomCoordX != 4 ) {
				var_147 = 4
				gosub *label_157
			}
			if ( var_136(1) == 1 & var_136(3) == 1 & roomCoordX != 5 ) {
				var_147 = 5
				gosub *label_157
			}
		}
		if ( var_136(0) + var_136(1) + var_136(2) + var_136(3) == 4 ) {
			if ( rnd(2) == 0 ) {
				var_147 = 0
				gosub *label_157
				var_147 = 1
				gosub *label_157
				var_147 = 2
				gosub *label_157
				var_147 = 3
				gosub *label_157
			}
			else {
				var_147 = 4
				gosub *label_157
				var_147 = 5
				gosub *label_157
			}
		}
	}
	if ( var_160 == 3 ) {
		var_158 = 0
*label_133
		exgoto var_158, 1, 7, *label_136
		var_159 = 0
*label_134
		exgoto var_159, 1, 7, *label_135
		if ( var_158 >= 2 & var_159 >= 2 & var_158 <= 4 & var_159 <= 4 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		if ( var_158 >= 0 & var_159 >= 2 & var_158 <= 1 & var_159 <= 4 & roomList3(roomCoordX3, roomCoordY3) / 1 \ 2 == 1 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		if ( var_158 >= 2 & var_159 >= 0 & var_158 <= 4 & var_159 <= 1 & roomList3(roomCoordX3, roomCoordY3) / 2 \ 2 == 1 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		if ( var_158 >= 5 & var_159 >= 2 & var_158 <= 6 & var_159 <= 4 & roomList3(roomCoordX3, roomCoordY3) / 4 \ 2 == 1 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		if ( var_158 >= 2 & var_159 >= 5 & var_158 <= 4 & var_159 <= 6 & roomList3(roomCoordX3, roomCoordY3) / 8 \ 2 == 1 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		var_159 += 1
		goto *label_134
*label_135
		var_158 += 1
		goto *label_133
*label_136
		gosub *label_155
	}
	if ( var_160 == 4 ) {
		var_158 = 0
*label_137
		exgoto var_158, 1, 7, *label_140
		var_159 = 0
*label_138
		exgoto var_159, 1, 7, *label_139
		if ( var_158 >= 1 & var_159 >= 1 & var_158 <= 1 & var_159 <= 5 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		if ( var_158 >= 1 & var_159 >= 1 & var_158 <= 5 & var_159 <= 1 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		if ( var_158 >= 5 & var_159 >= 1 & var_158 <= 5 & var_159 <= 5 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		if ( var_158 >= 1 & var_159 >= 5 & var_158 <= 5 & var_159 <= 5 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		var_159 += 1
		goto *label_138
*label_139
		var_158 += 1
		goto *label_137
*label_140
		gosub *label_155
	}
	if ( var_160 == 5 ) {
		var_158 = 0
*label_141
		exgoto var_158, 1, 7, *label_144
		var_159 = 0
*label_142
		exgoto var_159, 1, 7, *label_143
		if ( var_158 >= 0 & var_159 >= 0 & var_158 <= 0 & var_159 <= 6 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		if ( var_158 >= 0 & var_159 >= 0 & var_158 <= 6 & var_159 <= 0 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		if ( var_158 >= 6 & var_159 >= 0 & var_158 <= 6 & var_159 <= 6 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		if ( var_158 >= 0 & var_159 >= 6 & var_158 <= 6 & var_159 <= 6 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		var_159 += 1
		goto *label_142
*label_143
		var_158 += 1
		goto *label_141
*label_144
		gosub *label_155
	}
	if ( var_160 == 10 ) {
		var_158 = 0
*label_145
		exgoto var_158, 1, 7, *label_148
		var_159 = 0
*label_146
		exgoto var_159, 1, 7, *label_147
		if ( var_159 == 1 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 5 + rnd(4)
		}
		if ( var_159 == 2 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 9 + rnd(4)
		}
		if ( var_159 >= 3 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 13 + rnd(4)
		}
		if ( var_158 >= 0 & var_159 >= 0 & var_158 <= 0 & var_159 <= 6 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		if ( var_158 >= 0 & var_159 >= 0 & var_158 <= 6 & var_159 <= 0 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		if ( var_158 >= 6 & var_159 >= 0 & var_158 <= 6 & var_159 <= 6 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		if ( var_158 >= 0 & var_159 >= 6 & var_158 <= 6 & var_159 <= 6 ) {
			var_157(var_158 + roomCoordX3 * 7, var_159 + roomCoordY3 * 7) = 0
		}
		var_159 += 1
		goto *label_146
*label_147
		var_158 += 1
		goto *label_145
*label_148
		gosub *label_155
	}
	if ( var_160 != 5 ) {
		var_158 = 0
*label_149
		exgoto var_158, 1, 7, *label_152
		var_159 = 0
*label_150
		exgoto var_159, 1, 7, *label_151
		playerRoomCoordX = var_158 + roomCoordX3 * 7
		playerRoomCoordY = var_159 + roomCoordY3 * 7
		if ( var_160 == 10 & var_159 == 6 ) {
		}
		else {
			if ( var_158 <= 1 | var_159 <= 1 | var_158 >= 5 | var_159 >= 5 ) {
				if ( var_157(playerRoomCoordX, playerRoomCoordY) == 0 & rnd(3) != 0 ) {
					var_157(playerRoomCoordX, playerRoomCoordY) = 1 + rnd(2) * 2 + (var_158 + var_159 + 1) \ 2
				}
			}
		}
		var_159 += 1
		goto *label_150
*label_151
		var_158 += 1
		goto *label_149
	}
*label_152
	gosub *label_155
	roomCoordY3 += 1
	goto *label_120
*label_153
	roomCoordX3 += 1
	goto *label_119
*label_154
	goto *label_163
*label_155
	if ( roomList3(roomCoordX3, roomCoordY3) / 1 \ 2 == 1 ) {
		var_157(roomCoordX3 * 7 + 0, roomCoordY3 * 7 + roomList2(roomCoordX3, roomCoordY3, 0)) = 0
	}
	if ( roomList3(roomCoordX3, roomCoordY3) / 2 \ 2 == 1 ) {
		var_157(roomCoordX3 * 7 + roomList2(roomCoordX3, roomCoordY3, 1), roomCoordY3 * 7 + 0) = 0
	}
	if ( roomList3(roomCoordX3, roomCoordY3) / 4 \ 2 == 1 ) {
		var_157(roomCoordX3 * 7 + 6, roomCoordY3 * 7 + roomList2((roomCoordX3 + 1) \ levelSizeX, roomCoordY3, 0)) = 0
	}
	if ( roomList3(roomCoordX3, roomCoordY3) / 8 \ 2 == 1 ) {
		var_157(roomCoordX3 * 7 + roomList2(roomCoordX3, (roomCoordY3 + 1) \ levelSizeY, 1), roomCoordY3 * 7 + 6) = 0
	}
	return
*label_156
	repeat
		var_92 = rnd(4)
		if ( var_161(var_92) >= 1 ) {
			if ( var_92 == 0 ) {
				roomCoordX2 -= 1
			}
			if ( var_92 == 1 ) {
				roomCoordY2 -= 1
			}
			if ( var_92 == 2 ) {
				roomCoordX2 += 1
			}
			if ( var_92 == 3 ) {
				roomCoordY2 += 1
			}
			var_161(var_92) -= 1
			var_157(roomCoordX2 + roomCoordX3 * 7, roomCoordY2 + roomCoordY3 * 7) = 0
		}
		if ( var_161(0) + var_161(1) + var_161(2) + var_161(3) == 0 ) {
			break
		}
	loop
	return
*label_157
	if ( var_147 == 0 ) {
		dim var_161, 4
		var_161(2) = roomList2(roomCoordX3, roomCoordY3, 1)
		var_161(1) = roomList2(roomCoordX3, roomCoordY3, 0)
		roomCoordX2 = 0
		roomCoordY2 = roomList2(roomCoordX3, roomCoordY3, 0)
		gosub *label_156
	}
	if ( var_147 == 1 ) {
		dim var_161, 4
		var_161(0) = 6 - roomList2(roomCoordX3, roomCoordY3, 1)
		var_161(1) = roomList2((roomCoordX3 + 1) \ levelSizeX, roomCoordY3, 0)
		roomCoordX2 = 6
		roomCoordY2 = roomList2((roomCoordX3 + 1) \ levelSizeX, roomCoordY3, 0)
		gosub *label_156
	}
	if ( var_147 == 2 ) {
		dim var_161, 4
		var_161(2) = roomList2(roomCoordX3, (roomCoordY3 + 1) \ levelSizeY, 1)
		var_161(3) = 6 - roomList2(roomCoordX3, roomCoordY3, 0)
		roomCoordX2 = 0
		roomCoordY2 = roomList2(roomCoordX3, roomCoordY3, 0)
		gosub *label_156
	}
	if ( var_147 == 3 ) {
		dim var_161, 4
		var_161(0) = 6 - roomList2(roomCoordX3, (roomCoordY3 + 1) \ levelSizeY, 1)
		var_161(3) = 6 - roomList2((roomCoordX3 + 1) \ levelSizeX, roomCoordY3, 0)
		roomCoordX2 = 6
		roomCoordY2 = roomList2((roomCoordX3 + 1) \ levelSizeX, roomCoordY3, 0)
		gosub *label_156
	}
	if ( var_147 == 4 ) {
		dim var_161, 4
		var_92 = roomList2(roomCoordX3, roomCoordY3, 0) - roomList2((roomCoordX3 + 1) \ levelSizeX, roomCoordY3, 0)
		if ( var_92 >= 1 ) {
			var_161(1) = var_92
		}
		if ( var_92 <= (-1) ) {
			var_161(3) = -var_92
		}
		var_161(2) = 6
		var_161(1) += 1
		var_161(3) += 1
		roomCoordX2 = 0
		roomCoordY2 = roomList2(roomCoordX3, roomCoordY3, 0)
		gosub *label_156
	}
	if ( var_147 == 5 ) {
		dim var_161, 4
		var_92 = roomList2(roomCoordX3, roomCoordY3, 1) - roomList2(roomCoordX3, (roomCoordY3 + 1) \ levelSizeY, 1)
		if ( var_92 >= 1 ) {
			var_161(0) = var_92
		}
		if ( var_92 <= (-1) ) {
			var_161(2) = -var_92
		}
		var_161(3) = 6
		var_161(0) += 1
		var_161(2) += 1
		roomCoordX2 = roomList2(roomCoordX3, roomCoordY3, 1)
		roomCoordY2 = 0
		gosub *label_156
	}
	return
*label_158
	roomCoordX3 = 0
*label_159
	exgoto roomCoordX3, 1, levelSizeX, *label_162
	roomCoordY3 = 0
*label_160
	exgoto roomCoordY3, 1, levelSizeY, *label_161
	playerRoomCoordX = (roomCoordX3 + 1) \ levelSizeX
	playerRoomCoordY = (roomCoordY3 + 1) \ levelSizeY
	roomCoordX = (roomCoordX3 + 0) \ levelSizeX
	roomCoordY = (roomCoordY3 + 1) \ levelSizeY
	if ( roomList3(playerRoomCoordX, playerRoomCoordY) / 1 \ 2 == 0 & roomList3(roomCoordX, roomCoordY) / 4 \ 2 == 1 ) {
		roomList3(playerRoomCoordX, playerRoomCoordY) += 1
	}
	roomCoordX = (roomCoordX3 + 1) \ levelSizeX
	roomCoordY = (roomCoordY3 + 0) \ levelSizeY
	if ( roomList3(playerRoomCoordX, playerRoomCoordY) / 2 \ 2 == 0 & roomList3(roomCoordX, roomCoordY) / 8 \ 2 == 1 ) {
		roomList3(playerRoomCoordX, playerRoomCoordY) += 2
	}
	roomCoordX = (roomCoordX3 + 2) \ levelSizeX
	roomCoordY = (roomCoordY3 + 1) \ levelSizeY
	if ( roomList3(playerRoomCoordX, playerRoomCoordY) / 4 \ 2 == 0 & roomList3(roomCoordX, roomCoordY) / 1 \ 2 == 1 ) {
		roomList3(playerRoomCoordX, playerRoomCoordY) += 4
	}
	roomCoordX = (roomCoordX3 + 1) \ levelSizeX
	roomCoordY = (roomCoordY3 + 2) \ levelSizeY
	if ( roomList3(playerRoomCoordX, playerRoomCoordY) / 8 \ 2 == 0 & roomList3(roomCoordX, roomCoordY) / 2 \ 2 == 1 ) {
		roomList3(playerRoomCoordX, playerRoomCoordY) += 8
	}
	roomCoordY3 += 1
	goto *label_160
*label_161
	roomCoordX3 += 1
	goto *label_159
*label_162
	return
*label_163
	dim var_116, 20
	dim var_162, 20
	var_163 = 3
	var_164 = 3
	dim roomListGraphVisited, levelSizeX, levelSizeY
	dim roomListGraphMarker, levelSizeX, levelSizeY
	var_167 = 3
	playerLivesLeft = 2
	levelTimeStarted = timeGetTime()
	gameFrameRate = 32
	var_134 = 0
	var_171 = 3
	if ( levelType == 0 ) {
		levelStyle = 0
	}
	if ( levelType == 1 ) {
		levelStyle = 3
	}
	if ( levelType == 2 ) {
		levelStyle = 4
	}
	if ( levelType == 3 ) {
		levelStyle = rnd(3)
		if ( levelStyle >= 1 ) {
			levelStyle += 2
		}
	}
*label_164
	levelTimePlaying = timeGetTime() - levelTimeStarted
	if ( var_134 * 1000 / gameFrameRate <= levelTimePlaying ) {
		gosub *label_190
		if ( var_171 == 0 ) {
			dim var_174, 4
			repeat 4
				if ( cnt == 0 ) {
					playerRoomCoordX = (var_163 + playerRoomCoordX2 * 7 - 1 + levelSizeX * 7) \ (levelSizeX * 7)
					playerRoomCoordY = (var_164 + playerRoomCoordY2 * 7 + 0 + levelSizeY * 7) \ (levelSizeY * 7)
					if ( var_157(playerRoomCoordX, playerRoomCoordY) >= 5 ) {
						var_174(cnt) = 1
					}
					if ( var_163 == 0 & roomList6(playerRoomCoordX2, playerRoomCoordY2) != 4 ) {
						var_174(cnt) = 1
					}
					if ( roomList2(playerRoomCoordX2, playerRoomCoordY2, 0) == var_164 & var_163 == 0 & roomList3(playerRoomCoordX2, playerRoomCoordY2) / 1 \ 2 == 1 ) {
						var_174(cnt) = 0
					}
				}
				if ( cnt == 1 ) {
					playerRoomCoordX = (var_163 + playerRoomCoordX2 * 7 + 0 + levelSizeX * 7) \ (levelSizeX * 7)
					playerRoomCoordY = (var_164 + playerRoomCoordY2 * 7 - 1 + levelSizeY * 7) \ (levelSizeY * 7)
					if ( var_157(playerRoomCoordX, playerRoomCoordY) >= 5 ) {
						var_174(cnt) = 1
					}
					if ( var_164 == 0 & roomList6(playerRoomCoordX2, playerRoomCoordY2) != 1 ) {
						var_174(cnt) = 1
					}
					if ( roomList2(playerRoomCoordX2, playerRoomCoordY2, 1) == var_163 & var_164 == 0 & roomList3(playerRoomCoordX2, playerRoomCoordY2) / 2 \ 2 == 1 ) {
						var_174(cnt) = 0
					}
				}
				if ( cnt == 2 ) {
					playerRoomCoordX = (var_163 + playerRoomCoordX2 * 7 + 1 + levelSizeX * 7) \ (levelSizeX * 7)
					playerRoomCoordY = (var_164 + playerRoomCoordY2 * 7 + 0 + levelSizeY * 7) \ (levelSizeY * 7)
					if ( var_157(playerRoomCoordX, playerRoomCoordY) >= 5 ) {
						var_174(cnt) = 1
					}
					if ( var_163 == 6 & roomList6(playerRoomCoordX2, playerRoomCoordY2) != 2 ) {
						var_174(cnt) = 1
					}
					if ( roomList2((playerRoomCoordX2 + 1) \ levelSizeX, playerRoomCoordY2, 0) == var_164 & var_163 == 6 & roomList3(playerRoomCoordX2, playerRoomCoordY2) / 4 \ 2 == 1 ) {
						var_174(cnt) = 0
					}
				}
				if ( cnt == 3 ) {
					playerRoomCoordX = (var_163 + playerRoomCoordX2 * 7 + 0 + levelSizeX * 7) \ (levelSizeX * 7)
					playerRoomCoordY = (var_164 + playerRoomCoordY2 * 7 + 1 + levelSizeY * 7) \ (levelSizeY * 7)
					if ( var_157(playerRoomCoordX, playerRoomCoordY) >= 5 ) {
						var_174(cnt) = 1
					}
					if ( var_164 == 6 & roomList6(playerRoomCoordX2, playerRoomCoordY2) != 3 ) {
						var_174(cnt) = 1
					}
					if ( roomList2(playerRoomCoordX2, (playerRoomCoordY2 + 1) \ levelSizeY, 1) == var_163 & var_164 == 6 & roomList3(playerRoomCoordX2, playerRoomCoordY2) / 8 \ 2 == 1 ) {
						var_174(cnt) = 0
					}
				}
			loop
			if ( var_116(6) == 0 | roomTransitionFrame >= 1 ) {
				if ( var_116(0) * var_116(2) == 0 & var_116(1) * var_116(3) == 0 ) {
					var_147 = 0
					var_176 = 0
					if ( roomTransitionFrame == 0 ) {
						repeat 4
							var_92 = (cnt + 1) \ 4
							roomCoordX = (cnt + 3) \ 4
							if ( var_116(var_92) + var_116(roomCoordX) == 0 & var_116(cnt) >= 1 ) {
								var_147 = cnt
								var_176 = 1
							}
							if ( var_116(cnt) * var_116(var_92) >= 1 ) {
								if ( var_174(var_92) >= 1 & var_174(cnt) == 0 ) {
									var_147 = cnt
									var_176 = 1
									var_116(var_92) = 0
								}
								else {
									if ( var_174(cnt) >= 1 & var_174(var_92) == 0 ) {
										var_147 = var_92
										var_176 = 1
										var_116(cnt) = 0
									}
									else {
										if ( var_116(var_92) >= var_116(cnt) ) {
											var_147 = cnt
											var_176 = 1
										}
										if ( var_116(cnt) >= var_116(var_92) ) {
											var_147 = var_92
											var_176 = 1
										}
									}
								}
							}
						loop
					}
					else {
						var_116((var_147 + 1) \ 2) = 0
						var_116((var_147 + 1) \ 2 + 2) = 0
					}
					if ( playerClearAnimFrame >= 1 ) {
						var_176 = 0
					}
				}
				else {
					var_176 = 0
				}
			}
			if ( var_176 == 1 | var_178 \ 4 != 0 ) {
				var_178 += 1
			}
			else {
				var_178 = 0
			}
			roomCoordX = var_163
			roomCoordY = var_164
			if ( var_178 \ 4 == 1 & var_147 == 0 & roomTransitionFrame == 0 ) {
				var_163 -= 1
			}
			if ( var_178 \ 4 == 1 & var_147 == 1 & roomTransitionFrame == 0 ) {
				var_164 -= 1
			}
			if ( var_178 \ 4 == 1 & var_147 == 2 & roomTransitionFrame == 0 ) {
				var_163 += 1
			}
			if ( var_178 \ 4 == 1 & var_147 == 3 & roomTransitionFrame == 0 ) {
				var_164 += 1
			}
			if ( var_178 \ 4 == 1 & roomTransitionFrame == 0 ) {
				var_167 = var_147
			}
			if ( var_178 \ 8 == 2 ) {
				var_92 = 0
				if ( levelStyle == 0 ) {
					var_92 = 20
				}
				if ( levelStyle == 3 ) {
					var_92 = 23
				}
				var_95(17 + rnd(3) + var_92) = 1
			}
			if ( var_178 \ 4 == 1 ) {
				var_112 = (var_163 + playerRoomCoordX2 * 7 + levelSizeX * 7) \ (levelSizeX * 7)
				var_113 = (var_164 + playerRoomCoordY2 * 7 + levelSizeY * 7) \ (levelSizeY * 7)
				if ( var_157(var_112, var_113) >= 5 ) {
					if ( roomList5(playerRoomCoordX2, playerRoomCoordY2) != 8 ) {
						var_163 = roomCoordX
						var_164 = roomCoordY
						var_178 = 0
					}
					else {
						if ( var_163 >= 1 & var_164 >= 1 & var_163 <= 5 & var_164 <= 5 ) {
							var_171 = 2
							menuItemSelected = 0
							var_125 = 0
							var_179 = 0
							var_163 = roomCoordX
							var_164 = roomCoordY
							var_178 = 0
						}
					}
				}
			}
			else {
			}
			if ( roomList5(playerRoomCoordX2, playerRoomCoordY2) == 8 & roomTransitionFrame == 1 ) {
				var_171 = 2
				menuItemSelected = 0
				var_125 = 0
				var_179 = 0
			}
			if ( var_171 == 0 ) {
				if ( var_163 <= (-1) ) {
					if ( roomList3(playerRoomCoordX2, playerRoomCoordY2) / 1 \ 2 == 1 & roomList2(playerRoomCoordX2, playerRoomCoordY2, 0) == var_164 & roomList6(playerRoomCoordX2, playerRoomCoordY2) != 4 ) {
						var_163 += 7
						var_180 = playerRoomCoordX2
						var_181 = playerRoomCoordY2
						playerRoomCoordX2 = (playerRoomCoordX2 - 1 + levelSizeX) \ levelSizeX
						roomTransitionFrame = 8
						var_95(8) = 1
					}
					else {
						if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 4 ) {
							var_163 += 7
							playerRoomCoordX2 = (playerRoomCoordX2 - 1 + levelSizeX) \ levelSizeX
						}
						else {
							var_163 += 1
							var_178 = 0
						}
					}
				}
				if ( var_164 <= (-1) ) {
					if ( roomList3(playerRoomCoordX2, playerRoomCoordY2) / 2 \ 2 == 1 & roomList2(playerRoomCoordX2, playerRoomCoordY2, 1) == var_163 & roomList6(playerRoomCoordX2, playerRoomCoordY2) != 1 ) {
						var_164 += 7
						var_180 = playerRoomCoordX2
						var_181 = playerRoomCoordY2
						playerRoomCoordY2 = (playerRoomCoordY2 - 1 + levelSizeY) \ levelSizeY
						roomTransitionFrame = 8
						var_95(9) = 1
					}
					else {
						if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 1 ) {
							var_164 += 7
							playerRoomCoordY2 = (playerRoomCoordY2 - 1 + levelSizeY) \ levelSizeY
						}
						else {
							var_164 += 1
							var_178 = 0
						}
					}
				}
				if ( var_163 >= 7 ) {
					if ( roomList3(playerRoomCoordX2, playerRoomCoordY2) / 4 \ 2 == 1 & roomList2((playerRoomCoordX2 + 1) \ levelSizeX, playerRoomCoordY2, 0) == var_164 & roomList6(playerRoomCoordX2, playerRoomCoordY2) != 2 ) {
						var_163 -= 7
						var_180 = playerRoomCoordX2
						var_181 = playerRoomCoordY2
						playerRoomCoordX2 = (playerRoomCoordX2 + 1) \ levelSizeX
						roomTransitionFrame = 8
						var_95(10) = 1
					}
					else {
						if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 2 ) {
							var_163 -= 7
							playerRoomCoordX2 = (playerRoomCoordX2 + 1) \ levelSizeX
						}
						else {
							var_163 -= 1
							var_178 = 0
						}
					}
				}
				if ( var_164 >= 7 ) {
					if ( roomList3(playerRoomCoordX2, playerRoomCoordY2) / 8 \ 2 == 1 & roomList2(playerRoomCoordX2, (playerRoomCoordY2 + 1) \ levelSizeY, 1) == var_163 & roomList6(playerRoomCoordX2, playerRoomCoordY2) != 3 ) {
						var_164 -= 7
						var_180 = playerRoomCoordX2
						var_181 = playerRoomCoordY2
						playerRoomCoordY2 = (playerRoomCoordY2 + 1) \ levelSizeY
						roomTransitionFrame = 8
						var_95(11) = 1
					}
					else {
						if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 3 ) {
							var_164 -= 7
							playerRoomCoordY2 = (playerRoomCoordY2 + 1) \ levelSizeY
						}
						else {
							var_164 -= 1
							var_178 = 0
						}
					}
				}
			}
			if ( roomTransitionFrame >= 1 ) {
				roomTransitionFrame -= 1
			}
			else {
				roomTransitionFrame = 0
			}
			if ( var_116(6) >= 1 & playerClearAnimFrame == 0 ) {
				var_176 = 0
				var_182 += 1
				if ( var_182 == 1 ) {
					var_183 = 12
					var_95(15) = 1
				}
				var_184 = var_183
				if ( var_116(0) == 1 | var_116(0) >= 9 ) {
					if ( var_183 \ 5 >= 1 ) {
						var_183 -= 1
					}
				}
				if ( var_116(1) == 1 | var_116(1) >= 9 ) {
					if ( var_183 >= 5 ) {
						var_183 -= 5
					}
				}
				if ( var_116(2) == 1 | var_116(2) >= 9 ) {
					if ( var_183 \ 5 <= 3 ) {
						var_183 += 1
					}
				}
				if ( var_116(3) == 1 | var_116(3) >= 9 ) {
					if ( var_183 <= 19 ) {
						var_183 += 5
					}
				}
				if ( var_185 >= 1 ) {
					var_185 -= 1
				}
				if ( var_183 != var_184 | var_182 == 1 ) {
					var_185 = 8
					var_112 = (playerRoomCoordX2 + var_183 \ 5 - 2 + levelSizeX) \ levelSizeX
					var_113 = (playerRoomCoordY2 + var_183 / 5 - 2 + levelSizeY) \ levelSizeY
					if ( roomListGraphVisited(var_112, var_113) == 1 ) {
						var_186 = roomList5(var_112, var_113)
					}
					else {
						var_186 = -1
					}
					var_95(12) = 1
				}
			}
			if ( var_187 >= 1 ) {
				var_187 -= 1
			}
			if ( var_116(6) == 0 & var_182 >= 1 ) {
				var_112 = (playerRoomCoordX2 + var_183 \ 5 - 2 + levelSizeX) \ levelSizeX
				var_113 = (playerRoomCoordY2 + var_183 / 5 - 2 + levelSizeY) \ levelSizeY
				if ( roomListGraphVisited(var_112, var_113) == 0 & roomListGraphMarker(var_112, var_113) <= 1 ) {
					roomListGraphMarker(var_112, var_113) = 2
					var_95(13) = 1
				}
				else {
					if ( roomListGraphMarker(var_112, var_113) == 2 ) {
						roomListGraphMarker(var_112, var_113) = 0
						var_95(16) = 1
					}
					else {
						var_95(14) = 1
					}
				}
				var_187 = 6
				var_188 = var_182
				var_182 = -1
			}
			if ( roomTransitionFrame == 7 ) {
				var_92 = 0
				if ( levelStyle == 0 ) {
					var_92 = 43
				}
				if ( levelStyle == 3 ) {
					var_92 = 43
				}
				var_95(17 + rnd(3) + var_92) = 1
				if ( roomList5(playerRoomCoordX2, playerRoomCoordY2) <= 6 ) {
					var_95(roomList5(playerRoomCoordX2, playerRoomCoordY2) + var_92) = 1
				}
				if ( roomList5(playerRoomCoordX2, playerRoomCoordY2) == 7 ) {
					var_95(6 + var_92) = 1
				}
				if ( roomList5(playerRoomCoordX2, playerRoomCoordY2) == 8 ) {
					var_95(7 + var_92) = 1
				}
			}
			if ( var_189 >= 1 ) {
				var_189 -= 1
			}
			if ( roomTransitionFrame >= 1 ) {
				var_189 = 0
			}
			if ( playerClearAnimFrame == 1 ) {
				var_95(21) = 1
			}
			if ( playerClearAnimFrame == 60 ) {
				var_95(22) = 1
			}
			if ( playerClearAnimFrame == 128 ) {
				var_95(23) = 1
				var_95(32) = 1
			}
			if ( playerClearAnimFrame >= 1 ) {
				playerClearAnimFrame += 1
			}
			if ( playerClearAnimFrame >= 136 + 15 ) {
				var_171 = 4
				menuItemSelected = 0
				var_125 = 0
				var_179 = 0
			}
			if ( var_163 * var_164 == 9 ) {
				if ( roomListType(playerRoomCoordX2, playerRoomCoordY2) == 5 ) {
					roomListType(playerRoomCoordX2, playerRoomCoordY2) = 2
					playerKeysCollected += 1
					var_189 = 32
					var_95(20) = 1
				}
				if ( roomListType(playerRoomCoordX2, playerRoomCoordY2) == 7 & playerClearAnimFrame == 0 ) {
					if ( playerKeysCollected >= levelKeysNeeded ) {
						playerClearAnimFrame = 1
						var_191 = var_192
						var_92 = 0
						repeat 10
							if ( var_92 == 0 ) {
								if ( var_103(cnt, levelType) >= var_191 * 100 / gameFrameRate | var_103(cnt, levelType) == 0 ) {
									roomCoordX = var_103(cnt, levelType)
									var_103(cnt, levelType) = var_191 * 100 / gameFrameRate
									var_92 = 1
								}
							}
							else {
								roomCoordY = var_103(cnt, levelType)
								var_103(cnt, levelType) = roomCoordX
								roomCoordX = roomCoordY
							}
						loop
					}
				}
			}
			if ( roomTransitionFrame == 5 | var_182 == (-1) | var_134 == 12 ) {
				roomCoordX3 = playerRoomCoordX2 - 6 + levelSizeX
*label_165
				exgoto roomCoordX3, 1, playerRoomCoordX2 + 7 + levelSizeX, *label_168
				roomCoordY3 = playerRoomCoordY2 - 6 + levelSizeY
*label_166
				exgoto roomCoordY3, 1, playerRoomCoordY2 + 7 + levelSizeY, *label_167
				if ( roomListGraphMarker(roomCoordX3 \ levelSizeX, roomCoordY3 \ levelSizeY) == 1 ) {
					roomListGraphMarker(roomCoordX3 \ levelSizeX, roomCoordY3 \ levelSizeY) = 0
				}
				roomCoordY3 += 1
				goto *label_166
*label_167
				roomCoordX3 += 1
				goto *label_165
*label_168
				roomCoordX3 = playerRoomCoordX2 - 6 + levelSizeX
*label_169
				exgoto roomCoordX3, 1, playerRoomCoordX2 + 7 + levelSizeX, *label_172
				roomCoordY3 = playerRoomCoordY2 - 6 + levelSizeY
*label_170
				exgoto roomCoordY3, 1, playerRoomCoordY2 + 7 + levelSizeY, *label_171
				var_92 = 0
				repeat 9
					var_158 = (roomCoordX3 + cnt \ 3) \ levelSizeX
					var_159 = (roomCoordY3 + cnt / 3) \ levelSizeY
					if ( roomList5(var_158, var_159) == 8 & roomListGraphVisited(var_158, var_159) == 1 ) {
						var_92 += 1
					}
					else {
						if ( roomListGraphVisited(var_158, var_159) == 0 & roomListGraphMarker(var_158, var_159) == 2 ) {
							var_92 += 1
						}
					}
				loop
				var_112 = (roomCoordX3 + 1) \ levelSizeX
				var_113 = (roomCoordY3 + 1) \ levelSizeY
				if ( var_92 == roomList5(var_112, var_113) & roomListGraphVisited(var_112, var_113) == 1 ) {
					repeat 9
						var_158 = (roomCoordX3 + cnt \ 3) \ levelSizeX
						var_159 = (roomCoordY3 + cnt / 3) \ levelSizeY
						if ( roomListGraphMarker(var_158, var_159) == 0 ) {
							roomListGraphMarker(var_158, var_159) = 1
						}
					loop
				}
				roomCoordY3 += 1
				goto *label_170
*label_171
				roomCoordX3 += 1
				goto *label_169
			}
*label_172
			if ( var_116(6) == 0 ) {
				var_182 = 0
			}
			if ( roomListGraphVisited(playerRoomCoordX2, playerRoomCoordY2) == 0 ) {
				roomListGraphVisited(playerRoomCoordX2, playerRoomCoordY2) = 1
				if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 4 ) {
					roomListGraphVisited(playerRoomCoordX2 - 1, playerRoomCoordY2) = 1
				}
				if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 1 ) {
					roomListGraphVisited(playerRoomCoordX2, playerRoomCoordY2 - 1) = 1
				}
				if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 2 ) {
					roomListGraphVisited(playerRoomCoordX2 + 1, playerRoomCoordY2) = 1
				}
				if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 3 ) {
					roomListGraphVisited(playerRoomCoordX2, playerRoomCoordY2 + 1) = 1
				}
			}
			var_192 += 1
			if ( var_125 >= 1 ) {
				var_125 = 0
			}
			if ( var_116(5) == 1 & playerClearAnimFrame == 0 ) {
				var_171 = 1
				var_95(24) = 1
				var_179 = 1
			}
		}
		else {
			if ( var_171 == 1 ) {
				var_125 += 1
				if ( var_179 == 0 ) {
					if ( var_125 == 1 ) {
						menuItemSelected = 0
					}
					if ( var_116(5) == 1 ) {
						var_171 = 0
						var_95(25) = 1
					}
					if ( var_116(1) == 1 | var_116(1) >= 8 ) {
						menuItemSelected = (menuItemSelected + 5) \ 6
						var_95(30) = 1
					}
					if ( var_116(3) == 1 | var_116(3) >= 8 ) {
						menuItemSelected = (menuItemSelected + 1) \ 6
						var_95(30) = 1
					}
					if ( menuItemSelected == 0 & var_116(4) == 1 ) {
						var_171 = 0
						var_95(25) = 1
					}
					if ( menuItemSelected == 1 & var_116(4) == 1 ) {
						menuItemSelected = 7
						var_95(31) = 1
					}
					else {
						if ( menuItemSelected == 7 & var_116(4) == 1 ) {
							goto *label_032
							var_95(31) = 1
						}
					}
					if ( menuItemSelected == 2 & var_116(4) == 1 ) {
						menuItemSelected = 8
						var_95(31) = 1
					}
					else {
						if ( menuItemSelected == 8 & var_116(4) == 1 ) {
							goto *label_024
							var_95(31) = 1
						}
					}
					if ( menuItemSelected == 3 & var_116(0) * var_116(2) == 0 ) {
						if ( var_116(0) == 1 | var_116(0) >= 8 ) {
							if ( var_100 >= 5 ) {
								var_100 -= 5
								gosub *label_194
								var_95(30) = 1
							}
						}
						if ( var_116(2) == 1 | var_116(2) >= 8 ) {
							if ( var_100 <= 95 ) {
								var_100 += 5
								gosub *label_194
								var_95(30) = 1
							}
						}
					}
					if ( menuItemSelected == 4 & var_116(0) * var_116(2) == 0 ) {
						if ( var_116(0) == 1 | var_116(0) >= 8 ) {
							if ( var_101 >= 5 ) {
								var_101 -= 5
								gosub *label_194
								var_95(30) = 1
							}
						}
						if ( var_116(2) == 1 | var_116(2) >= 8 ) {
							if ( var_101 <= 95 ) {
								var_101 += 5
								gosub *label_194
								var_95(30) = 1
							}
						}
					}
					if ( menuItemSelected == 5 & var_116(4) == 1 ) {
						var_95(31) = 1
						gameWindowSize = (gameWindowSize + 1) \ 3
						gosub *gameWindowCreate
					}
					if ( var_116(8) == 1 & levelType == 3 ) {
						if ( levelStyle == 0 ) {
							levelStyle = 3
						}
						else {
							if ( levelStyle == 3 ) {
								levelStyle = 4
							}
							else {
								if ( levelStyle == 4 ) {
									levelStyle = 0
								}
							}
						}
						var_95(31) = 1
					}
				}
				else {
					if ( var_125 == 1 ) {
						menuItemSelected = 0
					}
					if ( var_116(0) + var_116(1) + var_116(2) + var_116(3) + var_116(4) == 0 ) {
						var_179 = 0
					}
				}
			}
			else {
				if ( var_171 == 2 ) {
					if ( playerLivesLeft >= 1 ) {
						var_192 += 1
					}
					if ( playerDeathAnimFrame == 0 ) {
						if ( playerLivesLeft <= 0 ) {
							var_109 = 0
							var_110 = 1
						}
					}
					playerDeathAnimFrame += 1
					if ( playerDeathAnimFrame == 1 ) {
						var_95(26) = 1
					}
					if ( playerDeathAnimFrame == 33 & playerLivesLeft >= 1 ) {
						var_95(36) = 1
						var_171 = 0
						playerDeathAnimFrame = 0
						playerLivesLeft -= 1
					}
					if ( playerDeathAnimFrame == 36 ) {
						var_95(27) = 1
						var_109 = 21
						var_110 = 1
					}
					if ( playerDeathAnimFrame >= 36 ) {
						if ( var_179 == 0 ) {
							if ( var_125 == 1 ) {
								menuItemSelected = 0
							}
							if ( var_116(1) == 1 ) {
								menuItemSelected = (menuItemSelected + 1) \ 2
								var_95(30) = 1
							}
							if ( var_116(3) == 1 ) {
								menuItemSelected = (menuItemSelected + 1) \ 2
								var_95(30) = 1
							}
							if ( menuItemSelected == 0 & var_116(4) == 1 ) {
								menuItemSelected = 2
								var_95(31) = 1
							}
							else {
								if ( menuItemSelected == 2 & var_116(4) == 1 ) {
									goto *label_032
									var_95(31) = 1
								}
							}
							if ( menuItemSelected == 1 & var_116(4) == 1 ) {
								menuItemSelected = 3
								var_95(31) = 1
							}
							else {
								if ( menuItemSelected == 3 & var_116(4) == 1 ) {
									goto *label_024
									var_95(31) = 1
								}
							}
						}
						else {
							if ( var_125 == 1 ) {
								menuItemSelected = 0
							}
							if ( var_116(0) + var_116(1) + var_116(2) + var_116(3) + var_116(4) == 0 ) {
								var_179 = 0
							}
						}
					}
				}
				else {
					if ( var_171 == 3 ) {
						if ( var_134 >= 8 ) {
							var_171 = 0
						}
						if ( var_134 == 0 ) {
							var_95(32) = 1
							var_194 = rnd(4)
							if ( levelType <= 2 ) {
								var_194 = levelType - 1
							}
						}
					}
					else {
						if ( var_171 == 4 ) {
							playerDeathAnimFrame += 1
							if ( playerDeathAnimFrame == 1 ) {
								var_109 = 22
								var_110 = 1
								if ( var_102 <= 3 ) {
									if ( levelType + 1 >= var_102 ) {
										var_102 += 1
									}
								}
							}
							if ( var_179 == 0 ) {
								if ( var_125 == 1 ) {
									menuItemSelected = 0
									var_195 = 0
								}
								if ( var_103(1, levelType) == 0 ) {
									if ( var_116(4) == 1 & var_195 >= 74 ) {
										var_123 = levelType
										var_109 = 0
										var_110 = 1
										gosub *label_195
										goto *label_187
									}
									var_195 += 1
								}
								else {
									if ( var_116(1) == 1 ) {
										menuItemSelected = (menuItemSelected + 1) \ 2
										var_95(30) = 1
									}
									if ( var_116(3) == 1 ) {
										menuItemSelected = (menuItemSelected + 1) \ 2
										var_95(30) = 1
									}
									if ( menuItemSelected == 0 & var_116(4) == 1 ) {
										menuItemSelected = 2
										var_95(31) = 1
									}
									else {
										if ( menuItemSelected == 2 & var_116(4) == 1 ) {
											goto *label_032
											var_95(31) = 1
										}
									}
									if ( menuItemSelected == 1 & var_116(4) == 1 ) {
										menuItemSelected = 3
										var_95(31) = 1
									}
									else {
										if ( menuItemSelected == 3 & var_116(4) == 1 ) {
											goto *label_024
											var_95(31) = 1
										}
									}
								}
							}
							else {
								if ( var_125 == 1 ) {
									menuItemSelected = 0
								}
								if ( var_116(0) + var_116(1) + var_116(2) + var_116(3) + var_116(4) == 0 ) {
									var_179 = 0
								}
							}
						}
					}
				}
			}
		}
		if ( var_171 <= 1 ) {
			if ( var_134 >= var_196 ) {
				var_194 = (var_194 + 1) \ 4
				if ( var_194 == 0 ) {
					var_196 = var_134 + 3527 * 32 / 30 + 15
				}
				if ( var_194 == 1 ) {
					var_196 = var_134 + 4050 * 32 / 30 + 15
				}
				if ( var_194 == 2 ) {
					var_196 = var_134 + 3433 * 32 / 30 + 15
				}
				if ( var_194 == 3 ) {
					var_196 = var_134 + 3420 * 32 / 30 + 15
				}
				var_109 = var_194 + 1
				var_110 = 1
				if ( var_104(var_194 + 8) == 0 ) {
					var_104(var_194 + 8) = 1
				}
			}
		}
		gosub *label_193
		gosub *label_195
		redraw 0
		color 0, 0, 0
		boxf
		gsel 3
		pget 0, 0
		var_197 = ginfo(16)
		var_198 = ginfo(17)
		var_199 = ginfo(18)
		gsel 0
		color var_197, var_198, var_199
		gmode 4, , , 256
		var_200 = 16
		var_201 = 16
		roomCoordX = var_200
		roomCoordY = var_201 + 32
		if ( var_167 == 0 & var_163 >= 3 & roomList6(playerRoomCoordX2, playerRoomCoordY2) == 2 ) {
			if ( var_178 >= 1 ) {
				roomCoordX += (var_178 - 1) \ 4 * 4 - 16
			}
		}
		if ( var_167 == 0 & var_163 <= 2 & roomList6(playerRoomCoordX2, playerRoomCoordY2) == 4 ) {
			if ( var_178 >= 1 ) {
				roomCoordX += (var_178 - 1) \ 4 * 4 - 16
			}
		}
		if ( var_167 == 2 & var_163 >= 4 & roomList6(playerRoomCoordX2, playerRoomCoordY2) == 2 ) {
			if ( var_178 >= 1 ) {
				roomCoordX -= (var_178 - 1) \ 4 * 4 - 16
			}
		}
		if ( var_167 == 2 & var_163 <= 3 & roomList6(playerRoomCoordX2, playerRoomCoordY2) == 4 ) {
			if ( var_178 >= 1 ) {
				roomCoordX -= (var_178 - 1) \ 4 * 4 - 16
			}
		}
		if ( var_167 == 1 & var_164 >= 3 & roomList6(playerRoomCoordX2, playerRoomCoordY2) == 3 ) {
			if ( var_178 >= 1 ) {
				roomCoordY += (var_178 - 1) \ 4 * 4 - 12
			}
		}
		if ( var_167 == 1 & var_164 <= 2 & roomList6(playerRoomCoordX2, playerRoomCoordY2) == 1 ) {
			if ( var_178 >= 1 ) {
				roomCoordY += (var_178 - 1) \ 4 * 4 - 12
			}
		}
		if ( var_167 == 3 & var_164 >= 4 & roomList6(playerRoomCoordX2, playerRoomCoordY2) == 3 ) {
			if ( var_178 >= 1 ) {
				roomCoordY -= (var_178 - 1) \ 4 * 4 - 12
			}
		}
		if ( var_167 == 3 & var_164 <= 3 & roomList6(playerRoomCoordX2, playerRoomCoordY2) == 1 ) {
			if ( var_178 >= 1 ) {
				roomCoordY -= (var_178 - 1) \ 4 * 4 - 12
			}
		}
		if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 2 & var_163 >= 3 ) {
			roomCoordX -= (var_163 - 3) * 16
		}
		if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 4 & var_163 <= 3 ) {
			roomCoordX -= (var_163 - 3) * 16
		}
		if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 3 & var_164 >= 3 ) {
			roomCoordY -= (var_164 - 3) * 12
		}
		if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 1 & var_164 <= 3 ) {
			roomCoordY -= (var_164 - 3) * 12
		}
		if ( roomTransitionFrame >= 1 ) {
			if ( var_167 == 0 ) {
				roomCoordX -= roomTransitionFrame * 16 * 7 / 8 * roomTransitionFrame / 8
			}
			if ( var_167 == 1 ) {
				roomCoordY -= roomTransitionFrame * 12 * 7 / 8 * roomTransitionFrame / 8
			}
			if ( var_167 == 2 ) {
				roomCoordX += roomTransitionFrame * 16 * 7 / 8 * roomTransitionFrame / 8
			}
			if ( var_167 == 3 ) {
				roomCoordY += roomTransitionFrame * 12 * 7 / 8 * roomTransitionFrame / 8
			}
			var_112 = 2
		}
		else {
			var_112 = 1
		}
		repeat var_112
			color var_197, var_198, var_199
			gmode 4, , , 256
			if ( cnt == 1 ) {
				if ( var_167 == 0 ) {
					roomCoordX += 16 * 9
				}
				if ( var_167 == 1 ) {
					roomCoordY += 16 * 9
				}
				if ( var_167 == 2 ) {
					roomCoordX -= 16 * 9
				}
				if ( var_167 == 3 ) {
					roomCoordY -= 16 * 9
				}
				roomCoordX6 = var_180
				roomCoordY6 = var_181
			}
			else {
				roomCoordX6 = playerRoomCoordX2
				roomCoordY6 = playerRoomCoordY2
			}
			var_133 = 1
			var_117 = 1
			if ( roomList6(roomCoordX6, roomCoordY6) == 4 | roomList6(roomCoordX6, roomCoordY6) == 2 ) {
				var_133 = 2
			}
			if ( roomList6(roomCoordX6, roomCoordY6) == 1 | roomList6(roomCoordX6, roomCoordY6) == 3 ) {
				var_117 = 2
			}
			if ( roomList6(roomCoordX6, roomCoordY6) == 4 ) {
				var_124 = 7
			}
			else {
				var_124 = 0
			}
			if ( roomList6(roomCoordX6, roomCoordY6) == 1 ) {
				var_115 = 7
			}
			else {
				var_115 = 0
			}
			var_113 = roomList5(roomCoordX6, roomCoordY6)
			if ( var_113 >= 7 ) {
				var_113 -= 1
			}
			roomCoordX3 = 0
*label_173
			exgoto roomCoordX3, 1, 7 * var_133, *label_176
			roomCoordY3 = 0
*label_174
			exgoto roomCoordY3, 1, 10 + var_117 * 7 - 7, *label_175
			pos roomCoordX3 * 16 + roomCoordX - var_124 * 16, roomCoordY3 * 12 - 36 + roomCoordY - var_115 * 12
			if ( roomList6(roomCoordX6, roomCoordY6) == 4 | roomList6(roomCoordX6, roomCoordY6) == 1 ) {
				var_204 = 1
			}
			else {
				var_204 = 0
			}
			if ( roomCoordY3 <= 2 ) {
				gcopy 3 + levelStyle, var_113 * 16, 288 + (roomCoordX3 + roomCoordY3 + roomCoordX6 + roomCoordY6 - var_204) \ 2 * 12, 16, 12
			}
			else {
				gcopy 3 + levelStyle, var_113 * 16, 312 + (roomCoordX3 + roomCoordY3 + roomCoordX6 + roomCoordY6 - var_204) \ 2 * 12, 16, 12
			}
			if ( roomCoordY3 == 2 & levelStyle == 3 ) {
				gcopy 3 + levelStyle, var_113 * 16, 444, 16, 12
			}
			roomCoordY3 += 1
			goto *label_174
*label_175
			roomCoordX3 += 1
			goto *label_173
*label_176
			gmode 3, , , 256
			if ( roomList3(roomCoordX6, roomCoordY6) / 1 \ 2 == 1 & roomList6(roomCoordX6, roomCoordY6) != 4 ) {
				pos roomCoordX - 16, roomList2(roomCoordX6, roomCoordY6, 0) * 12 - 24 + roomCoordY
				gcopy 3 + levelStyle, var_113 * 16, 30 * 12, 16, 36
			}
			if ( roomList3(roomCoordX6, roomCoordY6) / 2 \ 2 == 1 & roomList6(roomCoordX6, roomCoordY6) != 1 ) {
				pos roomList2(roomCoordX6, roomCoordY6, 1) * 16 + roomCoordX, roomCoordY - 24
				gcopy 3 + levelStyle, var_113 * 16, 28 * 12, 16, 24
			}
			if ( roomList3(roomCoordX6, roomCoordY6) / 4 \ 2 == 1 & roomList6(roomCoordX6, roomCoordY6) != 2 ) {
				pos roomCoordX + 7 * 16, roomList2((roomCoordX6 + 1) \ levelSizeX, roomCoordY6, 0) * 12 - 24 + roomCoordY
				gcopy 3 + levelStyle, var_113 * 16, 33 * 12, 16, 36
			}
			if ( roomList6(roomCoordX6, roomCoordY6) == 1 ) {
				var_205 = 12 * 7
			}
			else {
				var_205 = 0
			}
			if ( roomList3(roomCoordX6, roomCoordY6) / 8 \ 2 == 1 & roomList6(roomCoordX6, roomCoordY6) != 3 ) {
				pos roomList2(roomCoordX6, (roomCoordY6 + 1) \ levelSizeY, 1) * 16 + roomCoordX, roomCoordY + 7 * 12 - var_115 * 12 + var_205
				gcopy 3 + levelStyle, var_113 * 16, 36 * 12, 16, 12
			}
			if ( roomList6(roomCoordX6, roomCoordY6) >= 1 ) {
				var_206 = roomCoordX6
				var_207 = roomCoordY6
				var_204 = 0
				var_205 = 0
				if ( roomList6(roomCoordX6, roomCoordY6) == 4 ) {
					var_206 -= 1
					var_204 = (-16) * 7
				}
				if ( roomList6(roomCoordX6, roomCoordY6) == 1 ) {
					var_207 -= 1
					var_205 = (-12) * 7
				}
				if ( roomList6(roomCoordX6, roomCoordY6) == 2 ) {
					var_206 += 1
					var_204 = 16 * 7
				}
				if ( roomList6(roomCoordX6, roomCoordY6) == 3 ) {
					var_207 += 1
					var_205 = 12 * 7
				}
				if ( roomList3(var_206, var_207) / 1 \ 2 == 1 & roomList6(var_206, var_207) != 4 ) {
					pos roomCoordX - 16 + var_204, roomList2(var_206, var_207, 0) * 12 - 24 + roomCoordY + var_205
					gcopy 3 + levelStyle, var_113 * 16, 30 * 12, 16, 36
				}
				if ( roomList3(var_206, var_207) / 2 \ 2 == 1 & roomList6(var_206, var_207) != 1 ) {
					pos roomList2(var_206, var_207, 1) * 16 + roomCoordX + var_204, roomCoordY - 24 + var_205
					gcopy 3 + levelStyle, var_113 * 16, 28 * 12, 16, 24
				}
				if ( roomList3(var_206, var_207) / 4 \ 2 == 1 & roomList6(var_206, var_207) != 2 ) {
					pos roomCoordX + 7 * 16 + var_204, roomList2((var_206 + 1) \ levelSizeX, var_207, 0) * 12 - 24 + roomCoordY + var_205
					gcopy 3 + levelStyle, var_113 * 16, 33 * 12, 16, 36
				}
				if ( roomList3(var_206, var_207) / 8 \ 2 == 1 & roomList6(var_206, var_207) != 3 ) {
					pos roomList2(var_206, (var_207 + 1) \ levelSizeY, 1) * 16 + roomCoordX + var_204, roomCoordY + 7 * 12 - var_115 * 12 + var_205
					gcopy 3 + levelStyle, var_113 * 16, 36 * 12, 16, 12
				}
			}
			gmode 4, , , 256
			if ( var_113 == 8 ) {
				var_92 = 1
			}
			else {
				var_92 = 3
			}
			var_106 = 0
*label_177
			exgoto var_106, 1, 3, *label_182
			roomCoordX3 = 0
*label_178
			exgoto roomCoordX3, 1, 7 * var_133, *label_181
			roomCoordY3 = 0
*label_179
			exgoto roomCoordY3, 1, 7 * var_117, *label_180
			pos roomCoordX3 * 16 + roomCoordX - var_124 * 16, roomCoordY3 * 12 - var_106 * 12 + roomCoordY - var_115 * 12
			if ( var_157(roomCoordX3 + roomCoordX6 * 7 - var_124, roomCoordY3 + roomCoordY6 * 7 - var_115) >= 1 ) {
				gcopy 3 + levelStyle, var_157(roomCoordX3 + roomCoordX6 * 7 - var_124, roomCoordY3 + roomCoordY6 * 7 - var_115) * 16, 24 - var_106 * 12 + var_113 * 3 * 12, 16, 12
			}
			if ( roomCoordX3 == 3 & roomCoordY3 \ 7 == 3 ) {
				pos roomCoordX3 * 16 + roomCoordX, roomCoordY3 * 12 - var_106 * 12 + roomCoordY + 4
				if ( roomListType(roomCoordX6, roomCoordY6) == 5 ) {
					gcopy 3 + levelStyle, var_134 / 4 \ 8 * 16 + 272, 96 - var_106 * 12, 16, 12
				}
				if ( roomListType(roomCoordX6, roomCoordY6) == 6 ) {
					gcopy 3 + levelStyle, var_134 / 6 \ 4 * 16 + 272, 132 - var_106 * 12, 16, 12
				}
				if ( roomListType(roomCoordX6, roomCoordY6) == 7 ) {
					if ( playerKeysCollected >= levelKeysNeeded & playerClearAnimFrame <= 127 ) {
						gcopy 3 + levelStyle, var_134 / 4 \ 4 * 16 + 272, 60 - var_106 * 12, 16, 12
					}
					else {
						gcopy 3 + levelStyle, var_134 / 4 \ 4 * 16 + 272, 24 - var_106 * 12, 16, 12
					}
				}
			}
			roomCoordY3 += 1
			goto *label_179
*label_180
			roomCoordX3 += 1
			goto *label_178
*label_181
			if ( var_106 == 0 ) {
				playerRoomCoordX = roomCoordX
				playerRoomCoordY = roomCoordY
				if ( var_178 >= 1 & var_167 == 0 ) {
					playerRoomCoordX -= (var_178 - 1) \ 4 * 4 - 16
				}
				if ( var_178 >= 1 & var_167 == 1 ) {
					playerRoomCoordY -= (var_178 - 1) \ 4 * 4 - 12
				}
				if ( var_178 >= 1 & var_167 == 2 ) {
					playerRoomCoordX += (var_178 - 1) \ 4 * 4 - 16
				}
				if ( var_178 >= 1 & var_167 == 3 ) {
					playerRoomCoordY += (var_178 - 1) \ 4 * 4 - 12
				}
				pos var_163 * 16 + playerRoomCoordX, var_164 * 12 + playerRoomCoordY - 24
				if ( roomList5(playerRoomCoordX2, playerRoomCoordY2) == 8 ) {
					var_132 = 192
				}
				else {
					var_132 = 0
				}
				if ( var_178 >= 1 & playerDeathAnimFrame == 0 ) {
					gcopy 4, var_178 / 2 \ 8 * 16 + var_132, var_167 * 12 * 3, 16, 36
					if ( levelStyle == 3 ) {
						gcopy 8, var_178 / 2 \ 8 * 16 + var_132, var_167 * 12 * 3, 16, 36
					}
				}
				else {
					if ( var_171 != 3 ) {
						if ( playerClearAnimFrame == 0 & playerDeathAnimFrame == 0 ) {
							if ( var_182 <= 100 & var_187 == 0 & var_188 <= 116 | var_167 != 3 ) {
								var_92 = 0
								if ( var_176 == 0 ) {
									if ( var_134 \ 300 >= 93 & var_134 \ 300 <= 98 ) {
										var_92 = 1
									}
									if ( var_134 \ 300 >= 94 & var_134 \ 300 <= 96 ) {
										var_92 = 2
									}
									if ( var_134 \ 300 >= 79 & var_134 \ 300 <= 84 ) {
										var_92 = 1
									}
									if ( var_134 \ 300 >= 80 & var_134 \ 300 <= 82 ) {
										var_92 = 2
									}
								}
								gcopy 4, (8 + var_92) * 16 + var_132, var_167 * 12 * 3, 16, 36
								if ( levelStyle == 3 ) {
									gcopy 8, (8 + var_92) * 16 + var_132, var_167 * 12 * 3, 16, 36
								}
							}
							else {
								var_92 = 0
								if ( var_182 >= 101 & var_182 <= 108 ) {
									var_92 = (var_182 - 101) / 2
								}
								if ( var_182 >= 109 & var_182 <= 112 ) {
									var_92 = 4
								}
								if ( var_182 >= 113 & var_182 <= 116 ) {
									var_92 = 5
								}
								if ( var_182 >= 117 ) {
									var_92 = 6
									var_131 = (var_182 - 40) \ 100
									if ( var_131 >= 0 & var_131 <= 2 | var_131 >= 20 & var_131 <= 29 ) {
										var_92 = 7
									}
									if ( var_131 >= 3 & var_131 <= 6 | var_131 >= 23 & var_131 <= 26 ) {
										var_92 = 8
									}
									var_131 = (var_182 + 0) \ 200
									if ( var_131 >= 23 & var_131 <= 28 ) {
										var_92 = 9
									}
									if ( var_131 >= 9 & var_131 <= 14 ) {
										var_92 = 9
									}
									if ( var_131 >= 24 & var_131 <= 27 ) {
										var_92 = 10
									}
									if ( var_131 >= 10 & var_131 <= 13 ) {
										var_92 = 10
									}
								}
								if ( var_187 >= 1 & var_188 >= 117 ) {
									var_92 = var_187 - 1
								}
								gcopy 4, var_92 * 16 + var_132, 4 * 12 * 3, 16, 36
								if ( levelStyle == 3 ) {
									gcopy 8, var_92 * 16 + var_132, 4 * 12 * 3, 16, 36
								}
							}
						}
						else {
							if ( playerClearAnimFrame >= 1 ) {
								if ( playerClearAnimFrame <= 15 ) {
									var_92 = playerClearAnimFrame / 4
								}
								if ( playerClearAnimFrame >= 16 & playerClearAnimFrame <= 31 ) {
									var_92 = (playerClearAnimFrame / 2 + 4) \ 8
								}
								if ( playerClearAnimFrame >= 32 & playerClearAnimFrame <= 63 ) {
									var_92 = playerClearAnimFrame \ 8
								}
								if ( playerClearAnimFrame >= 64 & playerClearAnimFrame <= 87 ) {
									var_92 = playerClearAnimFrame - 64 + 8
								}
								if ( playerClearAnimFrame >= 88 & playerClearAnimFrame <= 127 ) {
									var_92 = playerClearAnimFrame \ 8 + 32
								}
								if ( playerClearAnimFrame >= 128 & playerClearAnimFrame <= 135 ) {
									var_92 = playerClearAnimFrame - 128 + 40
								}
								if ( playerClearAnimFrame <= 135 ) {
									gcopy 4, var_92 \ 8 * 16, (var_92 / 8 + 5) * 12 * 3, 16, 36
									if ( levelStyle == 3 ) {
										gcopy 8, var_92 \ 8 * 16, (var_92 / 8 + 5) * 12 * 3, 16, 36
									}
								}
							}
							else {
								if ( playerDeathAnimFrame >= 1 & playerDeathAnimFrame <= 32 ) {
									var_92 = (playerDeathAnimFrame - 1) / 2
									var_131 = 0
									var_132 = 0
									if ( var_167 == 0 | var_167 == 2 ) {
										if ( var_92 == 8 ) {
											var_132 = 2
										}
										if ( var_92 == 9 ) {
											var_132 = 3
										}
										if ( var_92 == 10 ) {
											var_132 = 4
										}
										if ( var_92 == 11 ) {
											var_131 = 3
											var_132 = 5
										}
										if ( var_92 == 12 ) {
											var_131 = 6
											var_132 = 7
										}
										if ( var_92 == 13 ) {
											var_131 = 12
											var_132 = 10
										}
										if ( var_92 == 14 ) {
											var_131 = 24
											var_132 = 12
										}
										if ( var_92 == 15 ) {
											var_131 = 36
											var_132 = 16
										}
									}
									if ( var_167 == 0 ) {
										pos var_163 * 16 + playerRoomCoordX - var_132 - 16 - 5, var_164 * 12 + playerRoomCoordY - 24 + var_131
										if ( var_164 <= 2 ) {
											gcopy 4, 128 + var_92 \ 8 * 32, 180 + var_92 / 8 * 36, 32, 36
											if ( levelStyle == 3 ) {
												gcopy 8, 128 + var_92 \ 8 * 32, 180 + var_92 / 8 * 36, 32, 36
											}
										}
										if ( var_164 == 3 & var_131 <= 23 ) {
											gcopy 4, 128 + var_92 \ 8 * 32, 180 + var_92 / 8 * 36, 32, 36
											if ( levelStyle == 3 ) {
												gcopy 8, 128 + var_92 \ 8 * 32, 180 + var_92 / 8 * 36, 32, 36
											}
										}
										if ( var_164 == 3 & var_131 >= 24 ) {
											gcopy 4, 128 + var_92 \ 8 * 32, 180 + var_92 / 8 * 36, 32, 36 - var_131 + 24
											if ( levelStyle == 3 ) {
												gcopy 8, 128 + var_92 \ 8 * 32, 180 + var_92 / 8 * 36, 32, 36 - var_131 + 24
											}
										}
										if ( var_164 == 4 & var_131 <= 11 ) {
											gcopy 4, 128 + var_92 \ 8 * 32, 180 + var_92 / 8 * 36, 32, 36
											if ( levelStyle == 3 ) {
												gcopy 8, 128 + var_92 \ 8 * 32, 180 + var_92 / 8 * 36, 32, 36
											}
										}
										if ( var_164 == 4 & var_131 >= 12 ) {
											gcopy 4, 128 + var_92 \ 8 * 32, 180 + var_92 / 8 * 36, 32, 36 - var_131 + 12
											if ( levelStyle == 3 ) {
												gcopy 8, 128 + var_92 \ 8 * 32, 180 + var_92 / 8 * 36, 32, 36 - var_131 + 12
											}
										}
										if ( var_164 == 5 ) {
											gcopy 4, 128 + var_92 \ 8 * 32, 180 + var_92 / 8 * 36, 32, 36 - var_131
											if ( levelStyle == 3 ) {
												gcopy 8, 128 + var_92 \ 8 * 32, 180 + var_92 / 8 * 36, 32, 36 - var_131
											}
										}
									}
									if ( var_167 == 2 ) {
										pos var_163 * 16 + playerRoomCoordX + var_132 + 5, var_164 * 12 + playerRoomCoordY - 24 + var_131
										if ( var_164 <= 2 ) {
											gcopy 4, 128 + var_92 \ 8 * 32, 252 + var_92 / 8 * 36, 32, 36
											if ( levelStyle == 3 ) {
												gcopy 8, 128 + var_92 \ 8 * 32, 252 + var_92 / 8 * 36, 32, 36
											}
										}
										if ( var_164 == 3 & var_131 <= 23 ) {
											gcopy 4, 128 + var_92 \ 8 * 32, 252 + var_92 / 8 * 36, 32, 36
											if ( levelStyle == 3 ) {
												gcopy 8, 128 + var_92 \ 8 * 32, 252 + var_92 / 8 * 36, 32, 36
											}
										}
										if ( var_164 == 3 & var_131 >= 24 ) {
											gcopy 4, 128 + var_92 \ 8 * 32, 252 + var_92 / 8 * 36, 32, 36 - var_131 + 24
											if ( levelStyle == 3 ) {
												gcopy 8, 128 + var_92 \ 8 * 32, 252 + var_92 / 8 * 36, 32, 36 - var_131 + 24
											}
										}
										if ( var_164 == 4 & var_131 <= 11 ) {
											gcopy 4, 128 + var_92 \ 8 * 32, 252 + var_92 / 8 * 36, 32, 36
											if ( levelStyle == 3 ) {
												gcopy 8, 128 + var_92 \ 8 * 32, 252 + var_92 / 8 * 36, 32, 36
											}
										}
										if ( var_164 == 4 & var_131 >= 12 ) {
											gcopy 4, 128 + var_92 \ 8 * 32, 252 + var_92 / 8 * 36, 32, 36 - var_131 + 12
											if ( levelStyle == 3 ) {
												gcopy 8, 128 + var_92 \ 8 * 32, 252 + var_92 / 8 * 36, 32, 36 - var_131 + 12
											}
										}
										if ( var_164 == 5 ) {
											gcopy 4, 128 + var_92 \ 8 * 32, 252 + var_92 / 8 * 36, 32, 36 - var_131
											if ( levelStyle == 3 ) {
												gcopy 8, 128 + var_92 \ 8 * 32, 252 + var_92 / 8 * 36, 32, 36 - var_131
											}
										}
									}
									if ( var_167 == 1 ) {
										if ( var_92 == 0 ) {
											var_131 = -5
										}
										if ( var_92 == 1 ) {
											var_131 = -4
										}
										if ( var_92 == 2 ) {
											var_131 = -3
										}
										if ( var_92 == 3 ) {
											var_131 = -2
										}
										if ( var_92 == 4 ) {
											var_131 = -1
										}
										if ( var_92 == 9 ) {
											var_131 = 1
										}
										if ( var_92 == 10 ) {
											var_131 = 2
										}
										if ( var_92 == 11 ) {
											var_131 = 3
										}
										if ( var_92 == 12 ) {
											var_131 = 4
										}
										if ( var_92 == 13 ) {
											var_131 = 5
										}
										if ( var_92 == 14 ) {
											var_131 = 5
										}
										if ( var_92 == 15 ) {
											var_131 = 5
										}
										pos var_163 * 16 + playerRoomCoordX, var_164 * 12 + playerRoomCoordY - 24 - var_131 - 7
										gcopy 4, 128 + var_92 * 16, 324, 16, 36
										if ( levelStyle == 3 ) {
											gcopy 8, 128 + var_92 * 16, 324, 16, 36
										}
									}
									if ( var_167 == 3 ) {
										if ( var_92 == 13 ) {
											var_131 = 5
										}
										if ( var_92 == 14 & (playerDeathAnimFrame - 1) \ 2 == 0 ) {
											var_131 = 12
										}
										if ( var_92 == 14 & (playerDeathAnimFrame - 1) \ 2 == 1 ) {
											var_131 = 15
										}
										if ( var_92 == 15 & (playerDeathAnimFrame - 1) \ 2 == 0 ) {
											var_131 = 19
										}
										if ( var_92 == 15 & (playerDeathAnimFrame - 1) \ 2 == 1 ) {
											var_131 = 24
										}
										pos var_163 * 16 + playerRoomCoordX, var_164 * 12 + playerRoomCoordY - 24 + var_131
										gcopy 4, 128 + var_92 * 16, 360, 16, 36
										if ( levelStyle == 3 ) {
											gcopy 8, 128 + var_92 * 16, 360, 16, 36
										}
									}
								}
							}
						}
					}
					else {
						var_92 = 7 - var_134
						if ( playerClearAnimFrame <= 135 ) {
							gcopy 4, var_92 * 16, 360, 16, 36
							if ( levelStyle == 3 ) {
								gcopy 8, var_92 * 16, 360, 16, 36
							}
						}
					}
				}
			}
			var_106 += 1
			goto *label_177
*label_182
			if ( roomTransitionFrame >= 1 ) {
				if ( cnt == 0 ) {
					gmode 3, , , roomTransitionFrame * 32
					pos roomCoordX - 16, roomCoordY - 48
					gcopy 3 + levelStyle, 208, 288, 8 * 18, 12 * 11
				}
				if ( cnt == 1 ) {
					gmode 3, , , 256 - roomTransitionFrame * 32
					pos roomCoordX - 16, roomCoordY - 48
					gcopy 3 + levelStyle, 208, 288, 8 * 18, 12 * 11
				}
			}
		loop
		if ( var_189 >= 1 ) {
			gmode 4, , , var_189 * 8
			pos 16 * 3 + roomCoordX, 18 - 32 + roomCoordY + var_189 * var_189 / 32
			gcopy 2, var_189 \ 8 * 16, 192, 16, 16
		}
		roomCoordX = var_200
		roomCoordY = var_201
		color 0, 0, 0
		boxf 0, 0, 256, roomCoordY - 5 - 8
		boxf 0, roomCoordY + 12 * 10 + 4, 256, 144
		boxf 0, 0, roomCoordX - 8, 144
		boxf roomCoordX + 16 * 8 - 8, 0, 256, 144
		color 0, 0, 0
		roomCoordX3 = 0
*label_183
		exgoto roomCoordX3, 1, 13, *label_186
		roomCoordY3 = 0
*label_184
		exgoto roomCoordY3, 1, 13, *label_185
		playerRoomCoordX = (playerRoomCoordX2 + roomCoordX3 - 6 + levelSizeX) \ levelSizeX
		playerRoomCoordY = (playerRoomCoordY2 + roomCoordY3 - 6 + levelSizeY) \ levelSizeY
		gmode 4, , , 32
		if ( roomCoordX3 >= 1 & roomCoordY3 >= 1 & roomCoordX3 <= 11 & roomCoordY3 <= 11 ) {
			gmode 4, , , 64
		}
		if ( roomCoordX3 >= 2 & roomCoordY3 >= 2 & roomCoordX3 <= 10 & roomCoordY3 <= 10 ) {
			gmode 4, , , 128
		}
		if ( roomCoordX3 >= 3 & roomCoordY3 >= 3 & roomCoordX3 <= 9 & roomCoordY3 <= 9 ) {
			gmode 4, , , 192
		}
		if ( roomCoordX3 >= 4 & roomCoordY3 >= 4 & roomCoordX3 <= 8 & roomCoordY3 <= 8 ) {
			gmode 4, , , 256
		}
		roomCoordX = var_200 + 128
		roomCoordY = var_201 + 8
		if ( roomTransitionFrame >= 1 ) {
			if ( var_167 == 0 ) {
				roomCoordX -= roomTransitionFrame * roomTransitionFrame / 8
			}
			if ( var_167 == 1 ) {
				roomCoordY -= roomTransitionFrame * roomTransitionFrame / 8
			}
			if ( var_167 == 2 ) {
				roomCoordX += roomTransitionFrame * roomTransitionFrame / 8
			}
			if ( var_167 == 3 ) {
				roomCoordY += roomTransitionFrame * roomTransitionFrame / 8
			}
		}
		if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) >= 1 ) {
			if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 2 & var_163 >= 3 ) {
				roomCoordX -= var_163 - 3
			}
			if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 4 & var_163 <= 3 ) {
				roomCoordX -= var_163 - 3
			}
			if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 3 & var_164 >= 3 ) {
				roomCoordY -= var_164 - 3
			}
			if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 1 & var_164 <= 3 ) {
				roomCoordY -= var_164 - 3
			}
		}
		pos roomCoordX3 * 8 + roomCoordX, roomCoordY3 * 8 + roomCoordY
		if ( roomListGraphVisited(playerRoomCoordX, playerRoomCoordY) >= 1 ) {
			gcopy 2, roomList3(playerRoomCoordX, playerRoomCoordY) * 8, roomList5(playerRoomCoordX, playerRoomCoordY) * 8 + 8, 8, 8
			if ( roomCoordX3 == 6 & roomCoordY3 == 6 ) {
				gcopy 2, roomList3(playerRoomCoordX, playerRoomCoordY) * 8, 0, 8, 8
			}
			if ( roomListType(playerRoomCoordX, playerRoomCoordY) == 4 ) {
				gcopy 2, 3 * 8, 11 * 8, 8, 8
			}
			if ( roomListType(playerRoomCoordX, playerRoomCoordY) == 5 ) {
				gcopy 2, 2 * 8, 11 * 8, 8, 8
			}
			if ( roomListType(playerRoomCoordX, playerRoomCoordY) == 6 ) {
				gcopy 2, 0 * 8, 11 * 8, 8, 8
			}
			if ( roomListType(playerRoomCoordX, playerRoomCoordY) == 7 ) {
				gcopy 2, 1 * 8, 11 * 8, 8, 8
			}
		}
		else {
			if ( roomListGraphMarker(playerRoomCoordX, playerRoomCoordY) == 1 ) {
				gcopy 2, 5 * 8, 11 * 8, 8, 8
			}
			if ( roomListGraphMarker(playerRoomCoordX, playerRoomCoordY) == 2 ) {
				gcopy 2, 6 * 8, 11 * 8, 8, 8
			}
		}
		roomCoordY3 += 1
		goto *label_184
*label_185
		roomCoordX3 += 1
		goto *label_183
*label_186
		gmode 4, , , 256
		pos 22 * 8 + var_200, 7 * 8 + var_201
		gcopy 2, 9 * 8, 11 * 8, 8, 8
		if ( var_182 >= 1 ) {
			gmode 4, , , 256
			if ( var_182 >= 0 & var_182 <= 1 ) {
				var_92 = 3
			}
			if ( var_182 >= 2 & var_182 <= 3 ) {
				var_92 = 2
			}
			if ( var_182 >= 4 & var_182 <= 6 ) {
				var_92 = 1
			}
			if ( var_182 >= 7 ) {
				var_92 = 0
			}
			roomCoordX = var_200 + 8 * 15 + 8 * 4
			roomCoordY = var_201 + 8 * 4
			if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) >= 1 ) {
				if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 2 & var_163 >= 3 ) {
					roomCoordX -= var_163 - 3
				}
				if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 4 & var_163 <= 3 ) {
					roomCoordX -= var_163 - 3
				}
				if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 3 & var_164 >= 3 ) {
					roomCoordY -= var_164 - 3
				}
				if ( roomList6(playerRoomCoordX2, playerRoomCoordY2) == 1 & var_164 <= 3 ) {
					roomCoordY -= var_164 - 3
				}
			}
			pos roomCoordX, roomCoordY
			gcopy 2, 0 * 8 + var_92 * 24, 15 * 8, 8, 8
			pos roomCoordX + 8 * 6, roomCoordY
			gcopy 2, 2 * 8 + var_92 * 24, 15 * 8, 8, 8
			pos roomCoordX, roomCoordY + 8 * 6
			gcopy 2, 0 * 8 + var_92 * 24, 17 * 8, 8, 8
			pos roomCoordX + 8 * 6, roomCoordY + 8 * 6
			gcopy 2, 2 * 8 + var_92 * 24, 17 * 8, 8, 8
			repeat 5
				pos roomCoordX, roomCoordY + cnt * 8 + 8
				gcopy 2, 0 * 8 + var_92 * 24, 16 * 8, 8, 8
				pos roomCoordX + cnt * 8 + 8, roomCoordY
				gcopy 2, 1 * 8 + var_92 * 24, 15 * 8, 8, 8
				pos roomCoordX + 8 * 6, roomCoordY + cnt * 8 + 8
				gcopy 2, 2 * 8 + var_92 * 24, 16 * 8, 8, 8
				pos roomCoordX + cnt * 8 + 8, roomCoordY + 8 * 6
				gcopy 2, 1 * 8 + var_92 * 24, 17 * 8, 8, 8
			loop
			if ( var_186 >= 0 ) {
				if ( var_185 >= 8 ) {
					var_92 = 4
				}
				if ( var_185 >= 6 & var_185 <= 7 ) {
					var_92 = 3
				}
				if ( var_185 >= 4 & var_185 <= 5 ) {
					var_92 = 2
				}
				if ( var_185 >= 1 & var_185 <= 3 ) {
					var_92 = 1
				}
				if ( var_185 == 0 ) {
					var_92 = 0
				}
				pos roomCoordX, roomCoordY
				gcopy 2, 128 + var_92 * 8, var_186 * 8, 8, 8
			}
			roomCoordX += (var_183 \ 5 + 1) * 8
			roomCoordY += (var_183 / 5 + 1) * 8
			pos roomCoordX, roomCoordY
			gcopy 2, 4 * 8, 11 * 8, 8, 8
		}
		if ( roomTransitionFrame >= 8 ) {
			var_92 = 4
		}
		if ( roomTransitionFrame >= 6 & roomTransitionFrame <= 7 ) {
			var_92 = 3
		}
		if ( roomTransitionFrame >= 4 & roomTransitionFrame <= 5 ) {
			var_92 = 2
		}
		if ( roomTransitionFrame >= 1 & roomTransitionFrame <= 3 ) {
			var_92 = 1
		}
		if ( roomTransitionFrame == 0 ) {
			var_92 = 0
		}
		pos var_200 + 8 * 15, var_201
		gmode 4, , , 256
		gcopy 2, 128 + var_92 * 8, roomList5(playerRoomCoordX2, playerRoomCoordY2) * 8, 8, 8
		repeat levelKeysNeeded
			pos var_200 + 8 * 15, var_201 + 8 + cnt * 8
			gmode 4, , , 256
			if ( playerKeysCollected >= cnt + 1 ) {
				gcopy 2, 64, 88, 8, 8
			}
			else {
				gcopy 2, 56, 88, 8, 8
			}
		loop
		repeat 2
			pos var_200 + 8 * 15, var_201 + 8 * (levelKeysNeeded + 2) + cnt * 8
			gmode 4, , , 256
			if ( playerLivesLeft >= cnt + 1 ) {
				gcopy 2, 88, 88, 8, 8
			}
			else {
				gcopy 2, 80, 88, 8, 8
			}
		loop
		if ( playerClearAnimFrame == 0 ) {
			var_92 = var_192 * 100 / gameFrameRate
		}
		else {
			var_92 = var_191 * 100 / gameFrameRate
		}
		if ( var_92 >= 6000000 ) {
			var_92 = 5999999
		}
		var_112 = var_200 + 8 * 15
		var_113 = var_201
		pos var_112 + 5 * 11, var_113
		gcopy 2, var_92 / 1 \ 10 * 5, 96, 5, 8
		pos var_112 + 5 * 10, var_113
		gcopy 2, var_92 / 10 \ 10 * 5, 96, 5, 8
		pos var_112 + 5 * 8, var_113
		gcopy 2, var_92 / 100 \ 10 * 5, 96, 5, 8
		if ( var_92 >= 1000 ) {
			pos var_112 + 5 * 7, var_113
			gcopy 2, var_92 / 1000 \ 6 * 5, 96, 5, 8
		}
		if ( var_92 >= 6000 ) {
			pos var_112 + 5 * 5, var_113
			gcopy 2, var_92 / 6000 \ 10 * 5, 96, 5, 8
		}
		if ( var_92 >= 60000 ) {
			pos var_112 + 5 * 4, var_113
			gcopy 2, var_92 / 60000 \ 10 * 5, 96, 5, 8
		}
		if ( var_92 >= 600000 ) {
			pos var_112 + 5 * 3, var_113
			gcopy 2, var_92 / 600000 \ 10 * 5, 96, 5, 8
		}
		if ( var_92 \ 100 <= 50 | playerClearAnimFrame >= 1 ) {
			pos var_112 + 5 * 9, var_113
			gcopy 2, 11 * 5, 96, 5, 8
			if ( var_92 >= 6000 ) {
				pos var_112 + 5 * 6, var_113
				gcopy 2, 10 * 5, 96, 5, 8
			}
		}
		if ( var_125 >= 1 ) {
			if ( var_125 >= 0 & var_125 <= 1 ) {
				var_92 = 3
			}
			if ( var_125 >= 2 & var_125 <= 3 ) {
				var_92 = 2
			}
			if ( var_125 >= 4 & var_125 <= 6 ) {
				var_92 = 1
			}
			if ( var_125 >= 7 ) {
				var_92 = 0
			}
			roomCoordX = 8 * 7 - 4
			roomCoordY = 8 * 2
			color 0, 0, 0
			boxf roomCoordX + 8, roomCoordY + 8, roomCoordX + 17 * 8, roomCoordY + 13 * 8
			pos roomCoordX, roomCoordY
			gcopy 2, 12 * 8 + var_92 * 24, 15 * 8, 8, 8
			pos roomCoordX + 8 * 17, roomCoordY
			gcopy 2, 14 * 8 + var_92 * 24, 15 * 8, 8, 8
			pos roomCoordX, roomCoordY + 8 * 13
			gcopy 2, 12 * 8 + var_92 * 24, 17 * 8, 8, 8
			pos roomCoordX + 8 * 17, roomCoordY + 8 * 13
			gcopy 2, 14 * 8 + var_92 * 24, 17 * 8, 8, 8
			repeat 16
				pos roomCoordX + cnt * 8 + 8, roomCoordY
				gcopy 2, 13 * 8 + var_92 * 24, 15 * 8, 8, 8
				pos roomCoordX + cnt * 8 + 8, roomCoordY + 8 * 13
				gcopy 2, 13 * 8 + var_92 * 24, 17 * 8, 8, 8
			loop
			repeat 12
				pos roomCoordX, roomCoordY + cnt * 8 + 8
				gcopy 2, 12 * 8 + var_92 * 24, 16 * 8, 8, 8
				pos roomCoordX + 8 * 17, roomCoordY + cnt * 8 + 8
				gcopy 2, 14 * 8 + var_92 * 24, 16 * 8, 8, 8
			loop
		}
		if ( playerDeathAnimFrame >= 33 & playerDeathAnimFrame <= 36 & var_171 == 2 ) {
			color 0, 0, 0
			boxf
		}
		if ( playerDeathAnimFrame >= 30 & playerDeathAnimFrame <= 33 & var_171 == 2 & playerLivesLeft >= 1 ) {
			color 0, 0, 0
			boxf
		}
		if ( playerDeathAnimFrame >= 1 ) {
			if ( playerDeathAnimFrame >= 33 & var_171 == 2 | var_171 == 4 ) {
				if ( playerDeathAnimFrame >= 33 & var_171 == 2 ) {
					var_112 = playerDeathAnimFrame - 33
					if ( var_112 >= 0 & var_112 <= 1 ) {
						var_92 = 3
					}
					if ( var_112 >= 2 & var_112 <= 3 ) {
						var_92 = 2
					}
					if ( var_112 >= 4 & var_112 <= 6 ) {
						var_92 = 1
					}
					if ( var_112 >= 7 ) {
						var_92 = 0
					}
					var_131 = 0
				}
				else {
					if ( playerDeathAnimFrame >= 1 & var_171 == 4 ) {
						var_112 = playerDeathAnimFrame
						if ( var_112 >= 0 & var_112 <= 1 ) {
							var_92 = 3
						}
						if ( var_112 >= 2 & var_112 <= 3 ) {
							var_92 = 2
						}
						if ( var_112 >= 4 & var_112 <= 6 ) {
							var_92 = 1
						}
						if ( var_112 >= 7 ) {
							var_92 = 0
						}
						var_131 = 1
					}
				}
				roomCoordX = 8 * 7 - 4
				roomCoordY = 8 * 2
				color 0, 0, 0
				boxf roomCoordX + 8, roomCoordY + 8, roomCoordX + 17 * 8, roomCoordY + 13 * 8
				pos roomCoordX, roomCoordY
				gcopy 2, 12 * 8 + var_92 * 24, (18 + var_131 * 3) * 8, 8, 8
				pos roomCoordX + 8 * 17, roomCoordY
				gcopy 2, 14 * 8 + var_92 * 24, (18 + var_131 * 3) * 8, 8, 8
				pos roomCoordX, roomCoordY + 8 * 13
				gcopy 2, 12 * 8 + var_92 * 24, (20 + var_131 * 3) * 8, 8, 8
				pos roomCoordX + 8 * 17, roomCoordY + 8 * 13
				gcopy 2, 14 * 8 + var_92 * 24, (20 + var_131 * 3) * 8, 8, 8
				repeat 16
					pos roomCoordX + cnt * 8 + 8, roomCoordY
					gcopy 2, 13 * 8 + var_92 * 24, (18 + var_131 * 3) * 8, 8, 8
					pos roomCoordX + cnt * 8 + 8, roomCoordY + 8 * 13
					gcopy 2, 13 * 8 + var_92 * 24, (20 + var_131 * 3) * 8, 8, 8
				loop
				repeat 12
					pos roomCoordX, roomCoordY + cnt * 8 + 8
					gcopy 2, 12 * 8 + var_92 * 24, (19 + var_131 * 3) * 8, 8, 8
					pos roomCoordX + 8 * 17, roomCoordY + cnt * 8 + 8
					gcopy 2, 14 * 8 + var_92 * 24, (19 + var_131 * 3) * 8, 8, 8
				loop
			}
		}
		if ( var_125 >= 1 ) {
			pos roomCoordX + 6 * 8 + 2, roomCoordY + 2 * 8
			gcopy 2, 0, 13 * 8, 5 * 8, 16
			pos roomCoordX + 4 * 8 + 4, roomCoordY + 5 * 8
			gcopy 2, 0, 28 * 8, 10 * 8, 16
			pos roomCoordX + 4 * 8 + 4, roomCoordY + 7 * 8 - 4
			if ( menuItemSelected == 7 ) {
				gcopy 2, 80, 30 * 8, 10 * 8, 16
			}
			else {
				gcopy 2, 0, 30 * 8, 9 * 8, 16
			}
			pos roomCoordX + 4 * 8 + 4, roomCoordY + 8 * 8
			if ( menuItemSelected == 8 ) {
				gcopy 2, 80, 32 * 8, 9 * 8, 16
			}
			else {
				gcopy 2, 0, 32 * 8, 9 * 8, 16
			}
			pos roomCoordX + 5 * 8 + 4, roomCoordY + 10 * 8
			gcopy 2, 96, 208, 8 * 8, 8
			pos roomCoordX + 5 * 8 + 4, roomCoordY + 11 * 8
			gcopy 2, 96, 208, 8 * 8, 8
			pos roomCoordX + 5 * 8 + 4, roomCoordY + 10 * 8
			gcopy 2, 96, 216, var_100 * 56 / 100, 8
			pos roomCoordX + 5 * 8 + 4, roomCoordY + 11 * 8
			gcopy 2, 96, 216, var_101 * 56 / 100, 8
			pos roomCoordX + 5 * 8 + 4 + var_100 * 56 / 100, roomCoordY + 10 * 8
			gcopy 2, 160, 208, 8, 8
			pos roomCoordX + 5 * 8 + 4 + var_101 * 56 / 100, roomCoordY + 11 * 8
			gcopy 2, 160, 208, 8, 8
			pos roomCoordX + 4 * 8 + 4, roomCoordY + 10 * 8
			gcopy 2, 96, 224, 8, 8
			pos roomCoordX + 4 * 8 + 4, roomCoordY + 11 * 8
			gcopy 2, 96 + 8, 224, 8, 8
			pos roomCoordX + 5 * 8 + 4, roomCoordY + 12 * 8
			gcopy 2, 160, 216 + 8 * gameWindowSize, 8 * 8, 8
			pos roomCoordX + 14 * 8 + 4, roomCoordY + 9 * 8 + 6
			gcopy 3 + levelStyle, 192, 12, 16, 24
			if ( levelType == 3 ) {
				pos roomCoordX + 14 * 8 + 9, roomCoordY + 9 * 8 + 4
				gcopy 2, 17, 244, 7, 8
			}
			if ( menuItemSelected == 0 ) {
				var_92 = 4
			}
			if ( menuItemSelected == 1 | menuItemSelected == 7 ) {
				var_92 = 2 * 8
			}
			if ( menuItemSelected == 2 | menuItemSelected == 8 ) {
				var_92 = 3 * 8 + 4
			}
			if ( menuItemSelected == 3 ) {
				var_92 = 5 * 8
			}
			if ( menuItemSelected == 4 ) {
				var_92 = 6 * 8
			}
			if ( menuItemSelected == 5 ) {
				var_92 = 7 * 8
			}
			pos roomCoordX + 3 * 8 + 4, roomCoordY + 5 * 8 + var_92
			gcopy 2, 168 + var_134 / 2 \ 6 * 8, 208, 8, 8
		}
		if ( playerDeathAnimFrame >= 33 & var_171 == 2 ) {
			pos roomCoordX + 4 * 8 + 2, roomCoordY + 2 * 8 + 4
			gcopy 2, 5 * 8, 13 * 8, 9 * 8, 16
			pos roomCoordX + 6 * 8 - 2, roomCoordY + 5 * 8 + 4
			gcopy 5, 6 * 8 * levelType, 19 * 8, 6 * 8, 16
			pos roomCoordX + 4 * 8 + 4, roomCoordY + 9 * 8 - 4
			if ( menuItemSelected == 2 ) {
				gcopy 2, 80, 30 * 8, 10 * 8, 16
			}
			else {
				gcopy 2, 0, 30 * 8, 9 * 8, 16
			}
			pos roomCoordX + 4 * 8 + 4, roomCoordY + 10 * 8
			if ( menuItemSelected == 3 ) {
				gcopy 2, 80, 32 * 8, 9 * 8, 16
			}
			else {
				gcopy 2, 0, 32 * 8, 9 * 8, 16
			}
			var_92 = 4 * 8
			if ( menuItemSelected == 0 | menuItemSelected == 2 ) {
				var_92 = 4 * 8
			}
			if ( menuItemSelected == 1 | menuItemSelected == 3 ) {
				var_92 = 5 * 8 + 4
			}
			pos roomCoordX + 3 * 8 + 4, roomCoordY + 5 * 8 + var_92
			gcopy 2, 168 + var_134 / 2 \ 6 * 8, 208, 8, 8
		}
		if ( playerDeathAnimFrame >= 1 & var_171 == 4 ) {
			pos roomCoordX + 6 * 8 + 2, roomCoordY + 1 * 8 + 4
			gcopy 2, 14 * 8, 13 * 8, 5 * 8, 16
			pos roomCoordX + 6 * 8 - 2, roomCoordY + 6 * 8 + 4
			gcopy 5, 6 * 8 * levelType, 19 * 8, 6 * 8, 16
			var_92 = var_191 * 100 / gameFrameRate
			if ( var_92 >= 1000 ) {
				var_132 = 1
			}
			else {
				var_132 = 0
			}
			if ( var_92 >= 6000 ) {
				var_132 = 3
			}
			if ( var_92 >= 60000 ) {
				var_132 = 4
			}
			if ( var_92 >= 600000 ) {
				var_132 = 5
			}
			pos roomCoordX + 4 * 8 + 2 - var_132 * 4, roomCoordY + 4 * 8
			gcopy 2, 19 * 8, 13 * 8, 5 * 8, 16
			if ( var_92 >= 6000000 ) {
				var_92 = 5999999
			}
			var_112 = roomCoordX + 4 * 8 + 2 + var_132 * 4
			var_113 = roomCoordY + 4 * 8
			pos var_112 + 8 * 8, var_113
			gcopy 2, var_92 / 1 \ 10 * 8, 208, 8, 16
			pos var_112 + 8 * 7, var_113
			gcopy 2, var_92 / 10 \ 10 * 8, 208, 8, 16
			pos var_112 + 8 * 5, var_113
			gcopy 2, var_92 / 100 \ 10 * 8, 208, 8, 16
			if ( var_92 >= 1000 ) {
				pos var_112 + 8 * 4, var_113
				gcopy 2, var_92 / 1000 \ 6 * 8, 208, 8, 16
			}
			if ( var_92 >= 6000 ) {
				pos var_112 + 8 * 2, var_113
				gcopy 2, var_92 / 6000 \ 10 * 8, 208, 8, 16
			}
			if ( var_92 >= 60000 ) {
				pos var_112 + 8 * 1, var_113
				gcopy 2, var_92 / 60000 \ 10 * 8, 208, 8, 16
			}
			if ( var_92 >= 600000 ) {
				pos var_112 + 8 * 0, var_113
				gcopy 2, var_92 / 600000 \ 10 * 8, 208, 8, 16
			}
			pos var_112 + 8 * 6, var_113
			gcopy 2, 11 * 8, 208, 8, 16
			if ( var_92 >= 6000 ) {
				pos var_112 + 8 * 3, var_113
				gcopy 2, 10 * 8, 208, 8, 16
			}
			if ( var_103(1, levelType) >= 1 ) {
				pos roomCoordX + 4 * 8 + 4, roomCoordY + 9 * 8
				if ( menuItemSelected == 2 ) {
					gcopy 2, 80, 30 * 8, 10 * 8, 16
				}
				else {
					gcopy 2, 0, 30 * 8, 9 * 8, 16
				}
				pos roomCoordX + 4 * 8 + 4, roomCoordY + 10 * 8 + 4
				if ( menuItemSelected == 3 ) {
					gcopy 2, 80, 32 * 8, 9 * 8, 16
				}
				else {
					gcopy 2, 0, 32 * 8, 9 * 8, 16
				}
				var_92 = 4 * 8
				if ( menuItemSelected == 0 | menuItemSelected == 2 ) {
					var_92 = 4 * 8 + 4
				}
				if ( menuItemSelected == 1 | menuItemSelected == 3 ) {
					var_92 = 6 * 8
				}
				pos roomCoordX + 3 * 8 + 4, roomCoordY + 5 * 8 + var_92
				gcopy 2, 168 + var_134 / 2 \ 6 * 8, 208, 8, 8
			}
		}
		pos 0, 0
		gzoom 256 * (1 + gameWindowSize), 144 * (1 + gameWindowSize), 0, 0, 0, 256, 144
		redraw 1
		var_134 += 1
	}
	await 0
	goto *label_164
*label_187
	redraw 0
	color 0, 0, 0
	boxf
	pos 144, 128
	gcopy 5, 0, 168, 112, 16
	var_92 = rnd(4)
	pos 144, 96
	gcopy 5, 40 * var_92, 184, 40, 32
	pos 0, 0
	gzoom 256 * (1 + gameWindowSize), 144 * (1 + gameWindowSize), 0, 0, 0, 256, 144
	redraw 1
	exist "data\\savedata\\100"
	if ( strsize == (-1) ) {
		if ( var_108(var_123) == 0 & var_123 == 0 ) {
			ds_load "data\\ani\\a1.wav", gameMuBufferStartId + 24 + var_123
			var_108(var_123) = 1
		}
		if ( var_108(var_123) == 0 & var_123 == 1 ) {
			ds_load "data\\ani\\a2.wav", gameMuBufferStartId + 24 + var_123
			var_108(var_123) = 1
		}
		if ( var_108(var_123) == 0 & var_123 == 2 ) {
			ds_load "data\\ani\\a3.wav", gameMuBufferStartId + 24 + var_123
			var_108(var_123) = 1
		}
		if ( var_108(var_123) == 0 & var_123 == 3 ) {
			ds_load "data\\ani\\a4.wav", gameMuBufferStartId + 24 + var_123
			var_108(var_123) = 1
		}
	}
	ds_vol gameMuBufferStartId + 24 + var_123, var_101
	levelTimeStarted = timeGetTime()
	gameFrameRate = 32
	var_134 = 0
	var_208 = 0
	var_209 = 0
*label_188
	levelTimePlaying = timeGetTime() - levelTimeStarted
	if ( var_208 * 1000 / gameFrameRate <= levelTimePlaying ) {
		gosub *label_190
		redraw 0
		color 0, 0, 0
		boxf
		if ( var_123 == 0 ) {
			if ( var_208 == 0 ) {
				var_210 = "0011223344556677001122334455899::;;;;;<<44556677@ABCDEFGHHIIJJKK"
				var_210 += "TTUUVVWWPPQQRRSSTTUUVVWWPPQQRRSS`aabbccddeeffgghhhhh"
				var_210 += "hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh"
				var_211 = "6666666666666666666666666666555555555565666666666675555555555555"
				var_211 += "66666666666666666666666666666666555555555>6655555555"
				var_211 += "555555555555555555555555555555555555555555555555555555555555555555"
				var_212 = 20
				var_213 = 50
				repeat 4
					ds_stop gameMuBufferStartId + 24 + cnt
				loop
				ds_play gameMuBufferStartId + 24 + var_123
			}
			color 0, 0, 0
			gmode 4, , , 256
			pos 80, 48
			gcopy 10, 2 * 32, 192, 32, 48
			pos 140, 60
			gcopy 10, 2 * 32, 192, 32, 48
			pos 150, 50
			gcopy 10, 1 * 32, 192, 32, 48
			pos 173, 54
			gcopy 10, 0 * 32, 192, 32, 48
			pos 98, 50
			gcopy 10, 3 * 32, 192, 32, 48
			if ( var_208 \ 2 == 0 ) {
				var_212 += peek(var_211, var_208 / 2) - 53
			}
			pos var_212, var_213
			var_92 = 0
			var_92 = peek(var_210, var_208 / 2) - 48
			if ( var_92 >= 48 ) {
				gcopy 10, var_92 \ 16 * 48, var_92 / 16 * 48, 48, 48
			}
			else {
				gcopy 10, var_92 \ 16 * 32, var_92 / 16 * 48, 32, 48
			}
			pos 53, 54
			gcopy 10, 0 * 32, 192, 32, 48
			pos 70, 58
			gcopy 10, 1 * 32, 192, 32, 48
			if ( var_208 >= 212 ) {
				pos 72, 40
				gcopy 10, 48 * 0, 240, 48, 16
				pos 138, 40
				gcopy 10, 0, 256, 40, 16
			}
		}
		if ( var_123 == 1 ) {
			if ( var_208 == 0 ) {
				var_210 = "////////////////////////////////////////////////"
				var_210 += "////////////////////////"
				var_210 += "00112233445566778899::;;<<==>>??8899::;;<<==@@@@"
				var_210 += "@@AABBCCDDEEFFGGHHII@@BBDDEEFGHI@BDEFGHI@BDEFGHI"
				var_210 += "@BDEFGHIJKLMNOPQRSTUVWXY"
				var_210 += "`abcdefghijklmnohijklmnoprtv"
				var_210 += "................................................"
				var_211 = ""
				var_211 += "555555555555555555555555555555555555555555555555"
				var_211 += "555555555555555555555555"
				var_211 += "666666666666666666666666666666666666666666655555"
				var_211 += "555555555555555555555555555555555555555555555555"
				var_211 += "555555555555555555555555555555555555555555555555"
				var_211 += "555555555555555555555555555555555555555555555555"
				var_211 += "555555555555555555555555555555555555555555555555"
				var_212 = 69
				var_213 = 50
				repeat 4
					ds_stop gameMuBufferStartId + 24 + cnt
				loop
				ds_play gameMuBufferStartId + 24 + var_123
			}
			if ( var_208 \ 2 == 0 ) {
				var_212 += peek(var_211, var_208 / 2) - 53
			}
			color 0, 0, 0
			gmode 4, , , 256
			pos 80, 48
			gcopy 10, 0 * 32, 192, 32, 48
			pos 140, 60
			gcopy 10, 0 * 32, 192, 32, 48
			pos 150, 50
			gcopy 10, 2 * 32, 192, 32, 48
			pos 173, 54
			gcopy 10, 1 * 32, 192, 32, 48
			pos 112, 54
			if ( var_208 >= 120 & var_208 <= 431 ) {
				gcopy 11, var_208 \ 8 * 32, 240, 32, 48
			}
			else {
				gcopy 11, var_208 \ 8 * 32 + 256, 240, 32, 48
			}
			pos var_212, var_213
			var_92 = 0
			var_92 = peek(var_210, var_208 / 2) - 48
			if ( var_208 <= 431 ) {
				gcopy 11, var_92 \ 16 * 32, var_92 / 16 * 48, 32, 48
			}
			else {
				var_92 += var_208 \ 2
				gcopy 11, var_92 \ 16 * 32, var_92 / 16 * 48, 32, 48
			}
			pos 53, 54
			gcopy 10, 1 * 32, 192, 32, 48
			pos 70, 58
			gcopy 10, 2 * 32, 192, 32, 48
			if ( var_208 >= 432 ) {
				pos 72, 40
				gcopy 10, 48 * 1, 240, 48, 16
				pos 138, 40
				gcopy 10, 0, 256, 40, 16
			}
		}
		if ( var_123 == 2 ) {
			if ( var_208 == 0 ) {
				var_210 = "001111112233333344555555667777NN8999:;;;<===>???8999:;;;<===>???"
				var_210 += "OBBB@ABBBBBB@ABBBBBB@ABBBBBBEFFF@ABBCDDD@ABBEFFF@ABBCDDAEGHIJKLM"
				var_210 += "PQRSTUVWPQRXYZ[]^abcdefg`abcdefghiiijkkklmmmnooohiiijkkkpqrstuvw"
				var_210 += "0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_"
				var_210 += "`abcdefghijklmnopqrstuvw"
				var_210 += "0123456789:;@ABCDEFGHIJKPQRSTUVWXYZ[`abcdeffghhhh"
				var_210 += "hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh"
				var_214 = "0000000000000000000000000000000000000000000000000000000000000000"
				var_214 += "0000000000000000000000000000000000000000000000000000000000000000"
				var_214 += "0000000000000000000000000000000000000000000000000000000000000000"
				var_214 += "111111111111111111111111111111111111111111111111"
				var_214 += "1111111111111111111111111"
				var_214 += "222222222222222222222222222222222222222222222222"
				var_214 += "222222222222222222222222222222222222222222222222"
				var_211 = "5555555595555555955555559555555585558555855585558555855585558555"
				var_211 += "5555555555555555555555555555555555555555555555555555555555555555"
				var_211 += "6666666666666455444444444444444455555555655555555555555565555555"
				var_211 += "5555555555555555555555555555555555555555555555555555555555555555"
				var_211 += "5555555555555555555555555555555555555555555555555555555555555555"
				var_211 += "5555555555555555555555555555555555555555555555555555555555555555"
				var_211 += "5555555555555555555555555555555555555555555555555555555555555555"
				var_211 += "5555555555555555555555555555555555555555555555555555555555555555"
				var_211 += "5555555555555555555555555555555555555555555555555555555555555555"
				var_211 += "5555555555555555555555555555555555555555555555555555555555555555"
				var_211 += "5555555555555555555555555555555555555555555555555555555555555555"
				var_212 = 77
				var_213 = 50
				repeat 4
					ds_stop gameMuBufferStartId + 24 + cnt
				loop
				ds_play gameMuBufferStartId + 24 + var_123
			}
			if ( var_208 >= 129 & var_208 <= 695 ) {
				var_92 = 0
			}
			else {
				var_92 = 128
			}
			color 0, 0, 0
			gmode 4, , , 256
			pos 80, 48
			gcopy 10, 0 * 32 + var_92, 192, 32, 48
			pos 140, 60
			gcopy 10, 0 * 32 + var_92, 192, 32, 48
			pos 150, 50
			gcopy 10, 1 * 32 + var_92, 192, 32, 48
			pos 173, 54
			gcopy 10, 2 * 32 + var_92, 192, 32, 48
			var_92 = 0
			if ( var_208 <= 384 - 1 ) {
				if ( var_208 / 2 >= var_209 ) {
					var_92 = 1
				}
			}
			else {
				if ( (var_208 + 128) / 2 * 3 / 4 >= var_209 ) {
					var_92 = 1
				}
			}
			if ( var_92 == 1 ) {
				var_212 += peek(var_211, var_209) - 53
				var_209 += 1
			}
			pos var_212, var_213
			var_92 = 0
			if ( var_208 <= 384 - 1 ) {
				var_92 = peek(var_210, var_208 / 2) - 48
				roomCoordX = peek(var_214, var_208 / 2) - 48
			}
			else {
				var_92 = peek(var_210, (var_208 + 128) / 2 * 3 / 4) - 48
				roomCoordX = peek(var_214, (var_208 + 128) / 2 * 3 / 4) - 48
			}
			gcopy 12, var_92 \ 16 * 32, var_92 / 16 * 48 + roomCoordX * 48 * 5, 32, 48
			if ( var_208 >= 129 & var_208 <= 695 ) {
				var_92 = 0
			}
			else {
				var_92 = 128
			}
			pos 53, 54
			gcopy 10, 2 * 32 + var_92, 192, 32, 48
			pos 70, 58
			gcopy 10, 1 * 32 + var_92, 192, 32, 48
			if ( var_208 >= 696 ) {
				pos 72, 40
				gcopy 10, 48 * 2, 240, 48, 16
				pos 138, 40
				gcopy 10, 0, 256, 40, 16
			}
		}
		if ( var_123 == 3 ) {
			if ( var_208 == 0 ) {
				var_210 = "000000000000000000000000000000000000000000000000000000011111"
				var_210 += "222222222222222222222222222222222222222222222222222222233333"
				var_210 += "444444444444444444444444444444444444444444444444444444444444"
				var_210 += "55555555555555555555555555555566666666667777788888@@@@@AAAAA"
				var_210 += "BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB"
				var_210 += "GCCCCCCCCCCCCCCCCCCCCCCCCCCCCCGDDDDDDDDDDDDDDDDDDDGEEEEEEEEE"
				var_210 += "EEEEEEEEEEEEEGFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF"
				var_210 += "H///////////////////////////////////////////////////////////"
				var_212 = 100
				var_213 = 60
				repeat 4
					ds_stop gameMuBufferStartId + 24 + cnt
				loop
				ds_play gameMuBufferStartId + 24 + var_123
			}
			var_112 = 0
			if ( var_208 >= 600 ) {
				var_112 = 224
			}
			if ( var_208 >= 840 ) {
				var_112 = 320
			}
			if ( var_208 / 2 == 300 | var_208 / 2 == 330 | var_208 / 2 == 350 | var_208 / 2 == 372 ) {
				var_112 = 416
			}
			if ( var_112 == 416 ) {
				color 152, 36, 19
				boxf
			}
			color 0, 0, 0
			gmode 4, , , 256
			pos 70, 48
			gcopy 10, 2 * 32 + var_112, 192, 32, 48
			pos 150, 60
			gcopy 10, 2 * 32 + var_112, 192, 32, 48
			pos 160, 50
			gcopy 10, 0 * 32 + var_112, 192, 32, 48
			pos 173, 54
			gcopy 10, 1 * 32 + var_112, 192, 32, 48
			color 0, 0, 0
			pos var_212, var_213
			var_92 = 0
			var_92 = peek(var_210, var_208 / 2) - 48
			gcopy 13, var_92 \ 16 * 48, var_92 / 16 * 48, 48, 48
			pos 53, 54
			gcopy 10, 1 * 32 + var_112, 192, 32, 48
			pos 60, 58
			gcopy 10, 0 * 32 + var_112, 192, 32, 48
			if ( var_208 < 600 ) {
				pos 112, 24
				gcopy 13, var_208 / 2 \ 16 * 32, 192, 32, 48
			}
			color 212, 185, 93
			color 192, 165, 73
			roomCoordY = 128
			playerRoomCoordX = 42
			var_92 = 0
			if ( var_208 >= 600 ) {
				if ( var_208 < 60 + 600 ) {
					roomCoordX = 60 - (var_208 - 600)
					playerRoomCoordY = var_208 - 0 - 600
					var_92 = var_208 - 0 - roomCoordX * roomCoordX * roomCoordX / 1000
				}
				else {
					if ( var_208 < 100 + 600 ) {
						roomCoordX = 40 - (var_208 - 60 - 600)
						playerRoomCoordY = var_208 - 60 - 600
						var_92 = var_208 - 60 - roomCoordX * roomCoordX * roomCoordX / 200 + 60
					}
					else {
						if ( var_208 < 145 + 600 ) {
							roomCoordX = 45 - (var_208 - 100 - 600)
							playerRoomCoordY = var_208 - 100 - 600
							var_92 = var_208 - 100 - roomCoordX * roomCoordX * roomCoordX / 200 + 100
						}
						else {
							roomCoordX = 60 - (var_208 - 145 - 600)
							playerRoomCoordY = var_208 - 145 - 600
							if ( roomCoordX <= 0 ) {
								roomCoordX = 0
							}
							var_92 = var_208 - 145 - roomCoordX * roomCoordX * roomCoordX / 200 + 20
						}
					}
				}
				playerRoomCoordY = 30 - playerRoomCoordY
				if ( playerRoomCoordY <= 0 ) {
					playerRoomCoordY = 0
				}
				playerRoomCoordY += 100
				circle (-10) * playerRoomCoordY / 100 + roomCoordY, (-10) * playerRoomCoordY / 100 + playerRoomCoordX, 10 * playerRoomCoordY / 100 + roomCoordY, 10 * playerRoomCoordY / 100 + playerRoomCoordX
				repeat 4
					line sin(0.0174532925199433 * var_92) * 8 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * var_92) * 8 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2, sin(0.0174532925199433 * var_92) * 36 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * var_92) * 36 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2
					line sin(0.0174532925199433 * var_92) * 28 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * var_92) * 28 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2, sin(0.0174532925199433 * (var_92 + 17)) * 29 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * (var_92 + 17)) * 29 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2
					line sin(0.0174532925199433 * var_92) * 33 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * var_92) * 33 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2, sin(0.0174532925199433 * (var_92 + 11)) * 33.5 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * (var_92 + 11)) * 33.5 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2
					if ( var_208 >= 60 + 600 ) {
						line sin(0.0174532925199433 * (var_92 - 60)) * 8 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * (var_92 - 60)) * 8 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2, sin(0.0174532925199433 * (var_92 - 60)) * 13 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * (var_92 - 60)) * 13 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2
						line sin(0.0174532925199433 * (var_92 - 120)) * 8 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * (var_92 - 120)) * 8 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2, sin(0.0174532925199433 * (var_92 - 120)) * 13 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * (var_92 - 120)) * 13 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2
						line sin(0.0174532925199433 * var_92) * 23 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * var_92) * 23 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2, sin(0.0174532925199433 * (var_92 + 7)) * 24 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * (var_92 + 7)) * 24 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2
					}
					if ( var_208 >= 100 + 600 ) {
						line sin(0.0174532925199433 * (var_92 + 80)) * 8 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * (var_92 + 80)) * 8 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2, sin(0.0174532925199433 * (var_92 + 80)) * 21 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * (var_92 + 80)) * 21 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2
						line sin(0.0174532925199433 * var_92) * 25 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * var_92) * 25 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2, sin(0.0174532925199433 * (var_92 - 8)) * 26 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * (var_92 - 8)) * 26 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2
						pset sin(0.0174532925199433 * (var_92 - 120)) * 17 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * (var_92 - 120)) * 17 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2
					}
					if ( var_208 >= 145 + 600 ) {
						pset sin(0.0174532925199433 * var_92) * 40 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * var_92) * 40 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2
					}
				loop
				if ( var_208 >= 100 + 600 ) {
					line sin(0.0174532925199433 * (var_92 - 140)) * 8 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * (var_92 - 140)) * 8 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2, sin(0.0174532925199433 * (var_92 - 140)) * 11 * playerRoomCoordY / 100 + roomCoordY - cnt \ 2, cos(0.0174532925199433 * (var_92 - 140)) * 11 * playerRoomCoordY / 100 + playerRoomCoordX - cnt / 2
				}
				color 0, 0, 0
				if ( var_112 == 416 ) {
					color 152, 36, 19
				}
				circle (-7) * playerRoomCoordY / 100 + roomCoordY, (-7) * playerRoomCoordY / 100 + playerRoomCoordX, 7 * playerRoomCoordY / 100 + roomCoordY, 7 * playerRoomCoordY / 100 + playerRoomCoordX
				if ( var_208 >= 100 + 600 ) {
					color 192, 165, 73
					pset sin(0.0174532925199433 * (var_92 - 140)) * 14 * playerRoomCoordY / 100 + roomCoordY, cos(0.0174532925199433 * (var_92 - 140)) * 14 * playerRoomCoordY / 100 + playerRoomCoordX
					circle (-3) + sin(0.0174532925199433 * (var_92 + 80)) * 22 * playerRoomCoordY / 100 + roomCoordY, (-3) + cos(0.0174532925199433 * (var_92 + 80)) * 22 * playerRoomCoordY / 100 + playerRoomCoordX, 3 + sin(0.0174532925199433 * (var_92 + 80)) * 22 * playerRoomCoordY / 100 + roomCoordY, 3 + cos(0.0174532925199433 * (var_92 + 80)) * 22 * playerRoomCoordY / 100 + playerRoomCoordX
					color 0, 0, 0
					if ( var_112 == 416 ) {
						color 152, 36, 19
					}
					circle (-2) + sin(0.0174532925199433 * (var_92 + 80)) * 22 * playerRoomCoordY / 100 + roomCoordY, (-2) + cos(0.0174532925199433 * (var_92 + 80)) * 22 * playerRoomCoordY / 100 + playerRoomCoordX, 2 + sin(0.0174532925199433 * (var_92 + 80)) * 22 * playerRoomCoordY / 100 + roomCoordY, 2 + cos(0.0174532925199433 * (var_92 + 80)) * 22 * playerRoomCoordY / 100 + playerRoomCoordX
				}
				if ( var_208 >= 145 + 600 ) {
					color 192, 165, 73
					circle (-5) + sin(0.0174532925199433 * (var_92 - 60)) * 17 * playerRoomCoordY / 100 + roomCoordY, (-5) + cos(0.0174532925199433 * (var_92 - 60)) * 17 * playerRoomCoordY / 100 + playerRoomCoordX, 5 + sin(0.0174532925199433 * (var_92 - 60)) * 17 * playerRoomCoordY / 100 + roomCoordY, 5 + cos(0.0174532925199433 * (var_92 - 60)) * 17 * playerRoomCoordY / 100 + playerRoomCoordX
					color 0, 0, 0
					if ( var_112 == 416 ) {
						color 152, 36, 19
					}
					circle (-3) + sin(0.0174532925199433 * (var_92 - 60)) * 17 * playerRoomCoordY / 100 + roomCoordY, (-3) + cos(0.0174532925199433 * (var_92 - 60)) * 17 * playerRoomCoordY / 100 + playerRoomCoordX, 3 + sin(0.0174532925199433 * (var_92 - 60)) * 17 * playerRoomCoordY / 100 + roomCoordY, 3 + cos(0.0174532925199433 * (var_92 - 60)) * 17 * playerRoomCoordY / 100 + playerRoomCoordX
					color 192, 165, 73
					circle -playerRoomCoordY / 30 + roomCoordY, -playerRoomCoordY / 30 + playerRoomCoordX, 1 * playerRoomCoordY / 30 + roomCoordY, 1 * playerRoomCoordY / 30 + playerRoomCoordX
				}
			}
			if ( var_208 >= 840 ) {
				color 0, 0, 0
				pos 73, 40
				gcopy 10, 48 * 3, 240, 48, 16
				pos 138, 40
				gcopy 10, 0, 256, 40, 16
			}
		}
		pos 0, 0
		gzoom 256 * (1 + gameWindowSize), 144 * (1 + gameWindowSize), 0, 0, 0, 256, 144
		redraw 1
		var_208 += 1
		var_92 = 0
		if ( var_116(6) == 1 ) {
			var_92 = 1
		}
		if ( var_123 == 0 & var_208 >= 212 + 64 ) {
			var_92 = 1
		}
		if ( var_123 == 1 & var_208 >= 432 + 64 ) {
			var_92 = 1
		}
		if ( var_123 == 2 & var_208 >= 696 + 96 ) {
			var_92 = 1
		}
		if ( var_123 == 3 & var_208 >= 840 + 128 ) {
			var_92 = 1
		}
		if ( var_92 == 1 ) {
			repeat 4
				ds_stop gameMuBufferStartId + 24 + cnt
			loop
			goto *label_024
		}
	}
	await 0
	goto *label_188
*gameVarsInit
	var_176 = 0
	var_178 = 0
	roomList5 = 0
	var_157 = 0
	var_199 = 0
	var_198 = 0
	var_197 = 0
	roomList2 = 0
	playerDeathAnimFrame = 0
	roomCoordX5 = 0
	roomCoordY5 = 0
	playerClearAnimFrame = 0
	var_92 = 0
	roomCoordX = 0
	roomCoordY = 0
	playerRoomCoordX = 0
	playerRoomCoordY = 0
	var_112 = 0
	var_113 = 0
	var_131 = 0
	var_132 = 0
	var_133 = 0
	var_117 = 0
	var_124 = 0
	var_115 = 0
	var_204 = 0
	var_205 = 0
	var_106 = 0
	roomCoordX2 = 0
	var_148 = 0
	roomCoordY2 = 0
	var_149 = 0
	playerKeysCollected = 0
	var_189 = 0
	roomListType = 0
	var_109 = 0
	var_196 = 0
	var_125 = 0
	menuItemSelected = 0
	roomList3 = 0
	var_110 = 0
	roomTransitionFrame = 0
	var_160 = 0
	var_147 = 0
	var_138 = 0
	var_141 = 0
	var_142 = 0
	roomCoordX4 = 0
	roomCoordY4 = 0
	playerRoomCoordX2 = 0
	roomCoordX6 = 0
	var_180 = 0
	playerRoomCoordY2 = 0
	roomCoordY6 = 0
	var_181 = 0
	roomCoordY3 = 0
	var_159 = 0
	roomCoordX3 = 0
	var_158 = 0
	var_191 = 0
	levelTimePlaying = 0
	var_192 = 0
	levelTimeStarted = 0
	var_186 = 0
	var_183 = 0
	var_184 = 0
	var_182 = 0
	var_187 = 0
	var_188 = 0
	var_185 = 0
	dim var_174, 4
	return
*label_190
	if ( ginfo(2) == 0 ) {
		getkey var_162(0), 37
		getkey var_162(1), 38
		getkey var_162(2), 39
		getkey var_162(3), 40
		getkey var_162(4), 90
		getkey var_162(5), 88
		getkey var_162(6), 65
		getkey var_162(7), 84
		getkey var_162(8), 82
		getkey var_162(19), 27
		var_106 = 0
*label_191
		exgoto var_106, 1, 20, *label_192
		if ( var_162(var_106) == 1 ) {
			var_116(var_106) += 1
		}
		else {
			var_116(var_106) = 0
		}
		var_106 += 1
		goto *label_191
*label_192
		if ( var_162(19) == 1 ) {
			goto *label_199
		}
	}
	else {
		dim var_116, 20
	}
	return
*label_193
	if ( var_100 >= 1 ) {
		repeat gameSeCount
			if ( var_95(cnt) == 1 ) {
				ds_play gameSeCount * var_96(cnt) + cnt
				var_95(cnt) = 0
				var_96(cnt) = (var_96(cnt) + 1) \ var_94
			}
		loop
		var_215 = 0
	}
	else {
		var_215 = 0
		var_215 = 1
		dim var_95, gameSeCount
	}
	return
*label_194
	repeat gameSeCount * var_94
		ds_vol cnt, var_100
	loop
	repeat 50 + 1
		ds_vol cnt + gameMuBufferStartId, var_101
	loop
	return
*label_195
	if ( var_110 == 1 ) {
		var_92 = 0
*label_196
		exgoto var_92, 1, 50, *label_197
		ds_stop gameMuBufferStartId + var_92
		var_92 += 1
		goto *label_196
*label_197
		roomCoordX = 0
		if ( var_109 == 0 ) {
			ds_play gameMuBufferStartId + var_109
			roomCoordX = 1
		}
		if ( var_109 == 1 ) {
			ds_play gameMuBufferStartId + var_109
			roomCoordX = 1
		}
		if ( var_109 == 2 ) {
			ds_play gameMuBufferStartId + var_109
			roomCoordX = 1
		}
		if ( var_109 == 3 ) {
			ds_play gameMuBufferStartId + var_109
			roomCoordX = 1
		}
		if ( var_109 == 4 ) {
			ds_play gameMuBufferStartId + var_109
			roomCoordX = 1
		}
		if ( var_109 == 21 ) {
			ds_play gameMuBufferStartId + var_109
			roomCoordX = 1
		}
		if ( var_109 == 22 ) {
			ds_play gameMuBufferStartId + var_109
			roomCoordX = 1
		}
		if ( roomCoordX == 0 ) {
			ds_loop gameMuBufferStartId + var_109
		}
		var_110 = 0
	}
	return
*gameWindowCreate
	screen 0, (gameWindowSize + 1) * 256, (gameWindowSize + 1) * 144, 4, ginfo(20) / 2 - 3 - (gameWindowSize + 1) * 128, ginfo(21) / 2 - 22 - (gameWindowSize + 1) * 72
	return
*label_199
	var_105 = 0
	if ( var_102 >= 1 ) {
		var_105 = str(var_102)
		bsave "data\\savedata\\0", var_105
	}
	var_106 = 0
*label_200
	exgoto var_106, 1, 4, *label_201
	var_105 = 0
	var_105 = ""
	repeat 10
		var_105 += str(var_103(cnt, var_106)) + "\n"
	loop
	bsave "data\\savedata\\" + str(var_106 + 1), var_105
	var_106 += 1
	goto *label_200
*label_201
	var_105 = 0
	var_105 = ""
	repeat 14
		var_105 += str(var_104(cnt)) + "\n"
	loop
	bsave "data\\savedata\\5", var_105
	end
